{
 "cells": [
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "# IE 582 - Homework III\n",
    "\n",
    "## Seval Ata\n",
    "\n",
    "### 20.11.2019"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Part A**"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Necessary libraries and reading the data*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 1,
   "metadata": {},
   "outputs": [
    {
     "name": "stderr",
     "output_type": "stream",
     "text": [
      "Loading required package: Matrix\n",
      "\n",
      "Attaching package: ‘Matrix’\n",
      "\n",
      "The following object is masked from ‘package:tidyr’:\n",
      "\n",
      "    expand\n",
      "\n",
      "Loading required package: foreach\n",
      "Loaded glmnet 2.0-16\n",
      "\n"
     ]
    }
   ],
   "source": [
    "library(readxl)\n",
    "library(data.table)\n",
    "library(tidyr)\n",
    "library(glmnet)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>'Tarih'</li>\n",
       "\t<li>'Saat'</li>\n",
       "\t<li>'Tuketim Miktari'</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 'Tarih'\n",
       "\\item 'Saat'\n",
       "\\item 'Tuketim Miktari'\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 'Tarih'\n",
       "2. 'Saat'\n",
       "3. 'Tuketim Miktari'\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] \"Tarih\"           \"Saat\"            \"Tuketim Miktari\""
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "consumption <- read_excel(\"/Users/Seval/Desktop/2019-2020/HW3/GercekZamanliTuketim.xls\") \n",
    "names(consumption)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Renaming and reordering the data columns*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "metadata": {},
   "outputs": [],
   "source": [
    "names(consumption)[1]=\"Date\"\n",
    "names(consumption)[2]=\"Dummy\"\n",
    "names(consumption)[3]=\"Consumption\""
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 4,
   "metadata": {},
   "outputs": [],
   "source": [
    "consumption_split<- strsplit(as.character(consumption$Dummy), split=\" \")\n",
    "consumption <- transform(consumption, Dummy2= sapply(consumption_split, \"[[\", 1),Time= sapply(consumption_split, \"[[\", 2))"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "metadata": {},
   "outputs": [],
   "source": [
    "consumption.df<-data.table(consumption)\n",
    "consumption.df[,c(\"Dummy\",\"Dummy2\"):=NULL]\n",
    "consumption.df<- consumption.df[, c(1, 3, 2)]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Creating new columns for the Date and Consumption values of Lag48 and Lag168.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "metadata": {},
   "outputs": [],
   "source": [
    "consumption.df[,lag48_Date:=Date-60*60*24*2]\n",
    "consumption.df[,lag48_Consumption:= 0]\n",
    "consumption.df[,lag168_Date:=Date-60*60*24*7]\n",
    "consumption.df[,lag168_Consumption:= 0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Filling the consumption columns for Lag48 and Lag168.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "metadata": {},
   "outputs": [],
   "source": [
    "for(i in 49:(dim(consumption.df)[1])){\n",
    "    consumption.df$lag48_Consumption[i]<-consumption.df$Consumption[i-48]\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "metadata": {},
   "outputs": [],
   "source": [
    "for(i in 169:(dim(consumption.df)[1])){\n",
    "    consumption.df$lag168_Consumption[i]<-consumption.df$Consumption[i-168]\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Final data table*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>Date</th><th scope=col>Time</th><th scope=col>Consumption</th><th scope=col>lag48_Date</th><th scope=col>lag48_Consumption</th><th scope=col>lag168_Date</th><th scope=col>lag168_Consumption</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>2016-11-01</td><td>00:00:00  </td><td>28032.45  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>01:00:00  </td><td>26515.65  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>02:00:00  </td><td>25687.16  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>03:00:00  </td><td>25152.53  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>04:00:00  </td><td>24903.70  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>05:00:00  </td><td>25197.38  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>06:00:00  </td><td>25965.52  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>07:00:00  </td><td>27573.40  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>08:00:00  </td><td>31815.96  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>09:00:00  </td><td>34528.60  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>10:00:00  </td><td>35355.73  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>11:00:00  </td><td>35600.34  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>12:00:00  </td><td>34043.03  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>13:00:00  </td><td>34592.09  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>14:00:00  </td><td>35069.03  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>15:00:00  </td><td>34718.82  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>16:00:00  </td><td>34934.69  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>17:00:00  </td><td>35278.73  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>18:00:00  </td><td>35589.85  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>19:00:00  </td><td>34449.39  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>20:00:00  </td><td>33620.31  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>21:00:00  </td><td>32630.86  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>22:00:00  </td><td>32148.63  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-01</td><td>23:00:00  </td><td>30647.12  </td><td>2016-10-30</td><td>0         </td><td>2016-10-25</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>00:00:00  </td><td>28443.75  </td><td>2016-10-31</td><td>0         </td><td>2016-10-26</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>01:00:00  </td><td>26987.62  </td><td>2016-10-31</td><td>0         </td><td>2016-10-26</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>02:00:00  </td><td>26131.66  </td><td>2016-10-31</td><td>0         </td><td>2016-10-26</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>03:00:00  </td><td>25655.50  </td><td>2016-10-31</td><td>0         </td><td>2016-10-26</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>04:00:00  </td><td>25268.47  </td><td>2016-10-31</td><td>0         </td><td>2016-10-26</td><td>0         </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>05:00:00  </td><td>25752.35  </td><td>2016-10-31</td><td>0         </td><td>2016-10-26</td><td>0         </td></tr>\n",
       "\t<tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>18:00:00  </td><td>37199.82  </td><td>2019-10-29</td><td>32634.84  </td><td>2019-10-24</td><td>36896.34  </td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>19:00:00  </td><td>36104.42  </td><td>2019-10-29</td><td>32073.46  </td><td>2019-10-24</td><td>36101.45  </td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>20:00:00  </td><td>35263.31  </td><td>2019-10-29</td><td>31545.44  </td><td>2019-10-24</td><td>35323.94  </td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>21:00:00  </td><td>34133.64  </td><td>2019-10-29</td><td>30666.96  </td><td>2019-10-24</td><td>34256.95  </td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>22:00:00  </td><td>32865.22  </td><td>2019-10-29</td><td>29559.34  </td><td>2019-10-24</td><td>33052.27  </td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>23:00:00  </td><td>31399.91  </td><td>2019-10-29</td><td>28434.09  </td><td>2019-10-24</td><td>31544.26  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>00:00:00  </td><td>29417.56  </td><td>2019-10-30</td><td>27154.21  </td><td>2019-10-25</td><td>29563.43  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>01:00:00  </td><td>28133.75  </td><td>2019-10-30</td><td>26157.42  </td><td>2019-10-25</td><td>28242.90  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>02:00:00  </td><td>27358.60  </td><td>2019-10-30</td><td>25373.88  </td><td>2019-10-25</td><td>27258.74  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>03:00:00  </td><td>26780.09  </td><td>2019-10-30</td><td>24911.43  </td><td>2019-10-25</td><td>26739.84  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>04:00:00  </td><td>26511.54  </td><td>2019-10-30</td><td>24836.11  </td><td>2019-10-25</td><td>26555.35  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>05:00:00  </td><td>27002.74  </td><td>2019-10-30</td><td>25233.76  </td><td>2019-10-25</td><td>26857.36  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>06:00:00  </td><td>27945.43  </td><td>2019-10-30</td><td>26296.00  </td><td>2019-10-25</td><td>27783.77  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>07:00:00  </td><td>29120.27  </td><td>2019-10-30</td><td>27575.60  </td><td>2019-10-25</td><td>28969.45  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>08:00:00  </td><td>32815.46  </td><td>2019-10-30</td><td>31667.27  </td><td>2019-10-25</td><td>32153.21  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>09:00:00  </td><td>34569.09  </td><td>2019-10-30</td><td>33138.17  </td><td>2019-10-25</td><td>33615.22  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>10:00:00  </td><td>35091.43  </td><td>2019-10-30</td><td>32926.25  </td><td>2019-10-25</td><td>33398.50  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>11:00:00  </td><td>35416.33  </td><td>2019-10-30</td><td>33122.35  </td><td>2019-10-25</td><td>33542.88  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>12:00:00  </td><td>33184.81  </td><td>2019-10-30</td><td>31518.65  </td><td>2019-10-25</td><td>30839.72  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>13:00:00  </td><td>33549.94  </td><td>2019-10-30</td><td>31895.21  </td><td>2019-10-25</td><td>30920.91  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>14:00:00  </td><td>35732.88  </td><td>2019-10-30</td><td>33050.83  </td><td>2019-10-25</td><td>33019.99  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>15:00:00  </td><td>35859.75  </td><td>2019-10-30</td><td>33464.69  </td><td>2019-10-25</td><td>33476.62  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>16:00:00  </td><td>36268.51  </td><td>2019-10-30</td><td>34612.24  </td><td>2019-10-25</td><td>34304.06  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>17:00:00  </td><td>37011.89  </td><td>2019-10-30</td><td>36082.10  </td><td>2019-10-25</td><td>35973.89  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>18:00:00  </td><td>37199.91  </td><td>2019-10-30</td><td>36936.24  </td><td>2019-10-25</td><td>36302.11  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>19:00:00  </td><td>36056.96  </td><td>2019-10-30</td><td>36219.71  </td><td>2019-10-25</td><td>35698.70  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>20:00:00  </td><td>35130.19  </td><td>2019-10-30</td><td>35136.55  </td><td>2019-10-25</td><td>34820.93  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>21:00:00  </td><td>33947.64  </td><td>2019-10-30</td><td>34155.15  </td><td>2019-10-25</td><td>33659.48  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>22:00:00  </td><td>32877.69  </td><td>2019-10-30</td><td>32878.23  </td><td>2019-10-25</td><td>32696.81  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>23:00:00  </td><td>31590.75  </td><td>2019-10-30</td><td>31456.46  </td><td>2019-10-25</td><td>30942.64  </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|lllllll}\n",
       " Date & Time & Consumption & lag48\\_Date & lag48\\_Consumption & lag168\\_Date & lag168\\_Consumption\\\\\n",
       "\\hline\n",
       "\t 2016-11-01 & 00:00:00   & 28032.45   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 01:00:00   & 26515.65   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 02:00:00   & 25687.16   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 03:00:00   & 25152.53   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 04:00:00   & 24903.70   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 05:00:00   & 25197.38   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 06:00:00   & 25965.52   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 07:00:00   & 27573.40   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 08:00:00   & 31815.96   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 09:00:00   & 34528.60   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 10:00:00   & 35355.73   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 11:00:00   & 35600.34   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 12:00:00   & 34043.03   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 13:00:00   & 34592.09   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 14:00:00   & 35069.03   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 15:00:00   & 34718.82   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 16:00:00   & 34934.69   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 17:00:00   & 35278.73   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 18:00:00   & 35589.85   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 19:00:00   & 34449.39   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 20:00:00   & 33620.31   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 21:00:00   & 32630.86   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 22:00:00   & 32148.63   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-01 & 23:00:00   & 30647.12   & 2016-10-30 & 0          & 2016-10-25 & 0         \\\\\n",
       "\t 2016-11-02 & 00:00:00   & 28443.75   & 2016-10-31 & 0          & 2016-10-26 & 0         \\\\\n",
       "\t 2016-11-02 & 01:00:00   & 26987.62   & 2016-10-31 & 0          & 2016-10-26 & 0         \\\\\n",
       "\t 2016-11-02 & 02:00:00   & 26131.66   & 2016-10-31 & 0          & 2016-10-26 & 0         \\\\\n",
       "\t 2016-11-02 & 03:00:00   & 25655.50   & 2016-10-31 & 0          & 2016-10-26 & 0         \\\\\n",
       "\t 2016-11-02 & 04:00:00   & 25268.47   & 2016-10-31 & 0          & 2016-10-26 & 0         \\\\\n",
       "\t 2016-11-02 & 05:00:00   & 25752.35   & 2016-10-31 & 0          & 2016-10-26 & 0         \\\\\n",
       "\t ... & ... & ... & ... & ... & ... & ...\\\\\n",
       "\t 2019-10-31 & 18:00:00   & 37199.82   & 2019-10-29 & 32634.84   & 2019-10-24 & 36896.34  \\\\\n",
       "\t 2019-10-31 & 19:00:00   & 36104.42   & 2019-10-29 & 32073.46   & 2019-10-24 & 36101.45  \\\\\n",
       "\t 2019-10-31 & 20:00:00   & 35263.31   & 2019-10-29 & 31545.44   & 2019-10-24 & 35323.94  \\\\\n",
       "\t 2019-10-31 & 21:00:00   & 34133.64   & 2019-10-29 & 30666.96   & 2019-10-24 & 34256.95  \\\\\n",
       "\t 2019-10-31 & 22:00:00   & 32865.22   & 2019-10-29 & 29559.34   & 2019-10-24 & 33052.27  \\\\\n",
       "\t 2019-10-31 & 23:00:00   & 31399.91   & 2019-10-29 & 28434.09   & 2019-10-24 & 31544.26  \\\\\n",
       "\t 2019-11-01 & 00:00:00   & 29417.56   & 2019-10-30 & 27154.21   & 2019-10-25 & 29563.43  \\\\\n",
       "\t 2019-11-01 & 01:00:00   & 28133.75   & 2019-10-30 & 26157.42   & 2019-10-25 & 28242.90  \\\\\n",
       "\t 2019-11-01 & 02:00:00   & 27358.60   & 2019-10-30 & 25373.88   & 2019-10-25 & 27258.74  \\\\\n",
       "\t 2019-11-01 & 03:00:00   & 26780.09   & 2019-10-30 & 24911.43   & 2019-10-25 & 26739.84  \\\\\n",
       "\t 2019-11-01 & 04:00:00   & 26511.54   & 2019-10-30 & 24836.11   & 2019-10-25 & 26555.35  \\\\\n",
       "\t 2019-11-01 & 05:00:00   & 27002.74   & 2019-10-30 & 25233.76   & 2019-10-25 & 26857.36  \\\\\n",
       "\t 2019-11-01 & 06:00:00   & 27945.43   & 2019-10-30 & 26296.00   & 2019-10-25 & 27783.77  \\\\\n",
       "\t 2019-11-01 & 07:00:00   & 29120.27   & 2019-10-30 & 27575.60   & 2019-10-25 & 28969.45  \\\\\n",
       "\t 2019-11-01 & 08:00:00   & 32815.46   & 2019-10-30 & 31667.27   & 2019-10-25 & 32153.21  \\\\\n",
       "\t 2019-11-01 & 09:00:00   & 34569.09   & 2019-10-30 & 33138.17   & 2019-10-25 & 33615.22  \\\\\n",
       "\t 2019-11-01 & 10:00:00   & 35091.43   & 2019-10-30 & 32926.25   & 2019-10-25 & 33398.50  \\\\\n",
       "\t 2019-11-01 & 11:00:00   & 35416.33   & 2019-10-30 & 33122.35   & 2019-10-25 & 33542.88  \\\\\n",
       "\t 2019-11-01 & 12:00:00   & 33184.81   & 2019-10-30 & 31518.65   & 2019-10-25 & 30839.72  \\\\\n",
       "\t 2019-11-01 & 13:00:00   & 33549.94   & 2019-10-30 & 31895.21   & 2019-10-25 & 30920.91  \\\\\n",
       "\t 2019-11-01 & 14:00:00   & 35732.88   & 2019-10-30 & 33050.83   & 2019-10-25 & 33019.99  \\\\\n",
       "\t 2019-11-01 & 15:00:00   & 35859.75   & 2019-10-30 & 33464.69   & 2019-10-25 & 33476.62  \\\\\n",
       "\t 2019-11-01 & 16:00:00   & 36268.51   & 2019-10-30 & 34612.24   & 2019-10-25 & 34304.06  \\\\\n",
       "\t 2019-11-01 & 17:00:00   & 37011.89   & 2019-10-30 & 36082.10   & 2019-10-25 & 35973.89  \\\\\n",
       "\t 2019-11-01 & 18:00:00   & 37199.91   & 2019-10-30 & 36936.24   & 2019-10-25 & 36302.11  \\\\\n",
       "\t 2019-11-01 & 19:00:00   & 36056.96   & 2019-10-30 & 36219.71   & 2019-10-25 & 35698.70  \\\\\n",
       "\t 2019-11-01 & 20:00:00   & 35130.19   & 2019-10-30 & 35136.55   & 2019-10-25 & 34820.93  \\\\\n",
       "\t 2019-11-01 & 21:00:00   & 33947.64   & 2019-10-30 & 34155.15   & 2019-10-25 & 33659.48  \\\\\n",
       "\t 2019-11-01 & 22:00:00   & 32877.69   & 2019-10-30 & 32878.23   & 2019-10-25 & 32696.81  \\\\\n",
       "\t 2019-11-01 & 23:00:00   & 31590.75   & 2019-10-30 & 31456.46   & 2019-10-25 & 30942.64  \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| Date | Time | Consumption | lag48_Date | lag48_Consumption | lag168_Date | lag168_Consumption |\n",
       "|---|---|---|---|---|---|---|\n",
       "| 2016-11-01 | 00:00:00   | 28032.45   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 01:00:00   | 26515.65   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 02:00:00   | 25687.16   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 03:00:00   | 25152.53   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 04:00:00   | 24903.70   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 05:00:00   | 25197.38   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 06:00:00   | 25965.52   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 07:00:00   | 27573.40   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 08:00:00   | 31815.96   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 09:00:00   | 34528.60   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 10:00:00   | 35355.73   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 11:00:00   | 35600.34   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 12:00:00   | 34043.03   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 13:00:00   | 34592.09   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 14:00:00   | 35069.03   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 15:00:00   | 34718.82   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 16:00:00   | 34934.69   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 17:00:00   | 35278.73   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 18:00:00   | 35589.85   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 19:00:00   | 34449.39   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 20:00:00   | 33620.31   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 21:00:00   | 32630.86   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 22:00:00   | 32148.63   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-01 | 23:00:00   | 30647.12   | 2016-10-30 | 0          | 2016-10-25 | 0          |\n",
       "| 2016-11-02 | 00:00:00   | 28443.75   | 2016-10-31 | 0          | 2016-10-26 | 0          |\n",
       "| 2016-11-02 | 01:00:00   | 26987.62   | 2016-10-31 | 0          | 2016-10-26 | 0          |\n",
       "| 2016-11-02 | 02:00:00   | 26131.66   | 2016-10-31 | 0          | 2016-10-26 | 0          |\n",
       "| 2016-11-02 | 03:00:00   | 25655.50   | 2016-10-31 | 0          | 2016-10-26 | 0          |\n",
       "| 2016-11-02 | 04:00:00   | 25268.47   | 2016-10-31 | 0          | 2016-10-26 | 0          |\n",
       "| 2016-11-02 | 05:00:00   | 25752.35   | 2016-10-31 | 0          | 2016-10-26 | 0          |\n",
       "| ... | ... | ... | ... | ... | ... | ... |\n",
       "| 2019-10-31 | 18:00:00   | 37199.82   | 2019-10-29 | 32634.84   | 2019-10-24 | 36896.34   |\n",
       "| 2019-10-31 | 19:00:00   | 36104.42   | 2019-10-29 | 32073.46   | 2019-10-24 | 36101.45   |\n",
       "| 2019-10-31 | 20:00:00   | 35263.31   | 2019-10-29 | 31545.44   | 2019-10-24 | 35323.94   |\n",
       "| 2019-10-31 | 21:00:00   | 34133.64   | 2019-10-29 | 30666.96   | 2019-10-24 | 34256.95   |\n",
       "| 2019-10-31 | 22:00:00   | 32865.22   | 2019-10-29 | 29559.34   | 2019-10-24 | 33052.27   |\n",
       "| 2019-10-31 | 23:00:00   | 31399.91   | 2019-10-29 | 28434.09   | 2019-10-24 | 31544.26   |\n",
       "| 2019-11-01 | 00:00:00   | 29417.56   | 2019-10-30 | 27154.21   | 2019-10-25 | 29563.43   |\n",
       "| 2019-11-01 | 01:00:00   | 28133.75   | 2019-10-30 | 26157.42   | 2019-10-25 | 28242.90   |\n",
       "| 2019-11-01 | 02:00:00   | 27358.60   | 2019-10-30 | 25373.88   | 2019-10-25 | 27258.74   |\n",
       "| 2019-11-01 | 03:00:00   | 26780.09   | 2019-10-30 | 24911.43   | 2019-10-25 | 26739.84   |\n",
       "| 2019-11-01 | 04:00:00   | 26511.54   | 2019-10-30 | 24836.11   | 2019-10-25 | 26555.35   |\n",
       "| 2019-11-01 | 05:00:00   | 27002.74   | 2019-10-30 | 25233.76   | 2019-10-25 | 26857.36   |\n",
       "| 2019-11-01 | 06:00:00   | 27945.43   | 2019-10-30 | 26296.00   | 2019-10-25 | 27783.77   |\n",
       "| 2019-11-01 | 07:00:00   | 29120.27   | 2019-10-30 | 27575.60   | 2019-10-25 | 28969.45   |\n",
       "| 2019-11-01 | 08:00:00   | 32815.46   | 2019-10-30 | 31667.27   | 2019-10-25 | 32153.21   |\n",
       "| 2019-11-01 | 09:00:00   | 34569.09   | 2019-10-30 | 33138.17   | 2019-10-25 | 33615.22   |\n",
       "| 2019-11-01 | 10:00:00   | 35091.43   | 2019-10-30 | 32926.25   | 2019-10-25 | 33398.50   |\n",
       "| 2019-11-01 | 11:00:00   | 35416.33   | 2019-10-30 | 33122.35   | 2019-10-25 | 33542.88   |\n",
       "| 2019-11-01 | 12:00:00   | 33184.81   | 2019-10-30 | 31518.65   | 2019-10-25 | 30839.72   |\n",
       "| 2019-11-01 | 13:00:00   | 33549.94   | 2019-10-30 | 31895.21   | 2019-10-25 | 30920.91   |\n",
       "| 2019-11-01 | 14:00:00   | 35732.88   | 2019-10-30 | 33050.83   | 2019-10-25 | 33019.99   |\n",
       "| 2019-11-01 | 15:00:00   | 35859.75   | 2019-10-30 | 33464.69   | 2019-10-25 | 33476.62   |\n",
       "| 2019-11-01 | 16:00:00   | 36268.51   | 2019-10-30 | 34612.24   | 2019-10-25 | 34304.06   |\n",
       "| 2019-11-01 | 17:00:00   | 37011.89   | 2019-10-30 | 36082.10   | 2019-10-25 | 35973.89   |\n",
       "| 2019-11-01 | 18:00:00   | 37199.91   | 2019-10-30 | 36936.24   | 2019-10-25 | 36302.11   |\n",
       "| 2019-11-01 | 19:00:00   | 36056.96   | 2019-10-30 | 36219.71   | 2019-10-25 | 35698.70   |\n",
       "| 2019-11-01 | 20:00:00   | 35130.19   | 2019-10-30 | 35136.55   | 2019-10-25 | 34820.93   |\n",
       "| 2019-11-01 | 21:00:00   | 33947.64   | 2019-10-30 | 34155.15   | 2019-10-25 | 33659.48   |\n",
       "| 2019-11-01 | 22:00:00   | 32877.69   | 2019-10-30 | 32878.23   | 2019-10-25 | 32696.81   |\n",
       "| 2019-11-01 | 23:00:00   | 31590.75   | 2019-10-30 | 31456.46   | 2019-10-25 | 30942.64   |\n",
       "\n"
      ],
      "text/plain": [
       "      Date       Time     Consumption lag48_Date lag48_Consumption lag168_Date\n",
       "1     2016-11-01 00:00:00 28032.45    2016-10-30 0                 2016-10-25 \n",
       "2     2016-11-01 01:00:00 26515.65    2016-10-30 0                 2016-10-25 \n",
       "3     2016-11-01 02:00:00 25687.16    2016-10-30 0                 2016-10-25 \n",
       "4     2016-11-01 03:00:00 25152.53    2016-10-30 0                 2016-10-25 \n",
       "5     2016-11-01 04:00:00 24903.70    2016-10-30 0                 2016-10-25 \n",
       "6     2016-11-01 05:00:00 25197.38    2016-10-30 0                 2016-10-25 \n",
       "7     2016-11-01 06:00:00 25965.52    2016-10-30 0                 2016-10-25 \n",
       "8     2016-11-01 07:00:00 27573.40    2016-10-30 0                 2016-10-25 \n",
       "9     2016-11-01 08:00:00 31815.96    2016-10-30 0                 2016-10-25 \n",
       "10    2016-11-01 09:00:00 34528.60    2016-10-30 0                 2016-10-25 \n",
       "11    2016-11-01 10:00:00 35355.73    2016-10-30 0                 2016-10-25 \n",
       "12    2016-11-01 11:00:00 35600.34    2016-10-30 0                 2016-10-25 \n",
       "13    2016-11-01 12:00:00 34043.03    2016-10-30 0                 2016-10-25 \n",
       "14    2016-11-01 13:00:00 34592.09    2016-10-30 0                 2016-10-25 \n",
       "15    2016-11-01 14:00:00 35069.03    2016-10-30 0                 2016-10-25 \n",
       "16    2016-11-01 15:00:00 34718.82    2016-10-30 0                 2016-10-25 \n",
       "17    2016-11-01 16:00:00 34934.69    2016-10-30 0                 2016-10-25 \n",
       "18    2016-11-01 17:00:00 35278.73    2016-10-30 0                 2016-10-25 \n",
       "19    2016-11-01 18:00:00 35589.85    2016-10-30 0                 2016-10-25 \n",
       "20    2016-11-01 19:00:00 34449.39    2016-10-30 0                 2016-10-25 \n",
       "21    2016-11-01 20:00:00 33620.31    2016-10-30 0                 2016-10-25 \n",
       "22    2016-11-01 21:00:00 32630.86    2016-10-30 0                 2016-10-25 \n",
       "23    2016-11-01 22:00:00 32148.63    2016-10-30 0                 2016-10-25 \n",
       "24    2016-11-01 23:00:00 30647.12    2016-10-30 0                 2016-10-25 \n",
       "25    2016-11-02 00:00:00 28443.75    2016-10-31 0                 2016-10-26 \n",
       "26    2016-11-02 01:00:00 26987.62    2016-10-31 0                 2016-10-26 \n",
       "27    2016-11-02 02:00:00 26131.66    2016-10-31 0                 2016-10-26 \n",
       "28    2016-11-02 03:00:00 25655.50    2016-10-31 0                 2016-10-26 \n",
       "29    2016-11-02 04:00:00 25268.47    2016-10-31 0                 2016-10-26 \n",
       "30    2016-11-02 05:00:00 25752.35    2016-10-31 0                 2016-10-26 \n",
       "...   ...        ...      ...         ...        ...               ...        \n",
       "26275 2019-10-31 18:00:00 37199.82    2019-10-29 32634.84          2019-10-24 \n",
       "26276 2019-10-31 19:00:00 36104.42    2019-10-29 32073.46          2019-10-24 \n",
       "26277 2019-10-31 20:00:00 35263.31    2019-10-29 31545.44          2019-10-24 \n",
       "26278 2019-10-31 21:00:00 34133.64    2019-10-29 30666.96          2019-10-24 \n",
       "26279 2019-10-31 22:00:00 32865.22    2019-10-29 29559.34          2019-10-24 \n",
       "26280 2019-10-31 23:00:00 31399.91    2019-10-29 28434.09          2019-10-24 \n",
       "26281 2019-11-01 00:00:00 29417.56    2019-10-30 27154.21          2019-10-25 \n",
       "26282 2019-11-01 01:00:00 28133.75    2019-10-30 26157.42          2019-10-25 \n",
       "26283 2019-11-01 02:00:00 27358.60    2019-10-30 25373.88          2019-10-25 \n",
       "26284 2019-11-01 03:00:00 26780.09    2019-10-30 24911.43          2019-10-25 \n",
       "26285 2019-11-01 04:00:00 26511.54    2019-10-30 24836.11          2019-10-25 \n",
       "26286 2019-11-01 05:00:00 27002.74    2019-10-30 25233.76          2019-10-25 \n",
       "26287 2019-11-01 06:00:00 27945.43    2019-10-30 26296.00          2019-10-25 \n",
       "26288 2019-11-01 07:00:00 29120.27    2019-10-30 27575.60          2019-10-25 \n",
       "26289 2019-11-01 08:00:00 32815.46    2019-10-30 31667.27          2019-10-25 \n",
       "26290 2019-11-01 09:00:00 34569.09    2019-10-30 33138.17          2019-10-25 \n",
       "26291 2019-11-01 10:00:00 35091.43    2019-10-30 32926.25          2019-10-25 \n",
       "26292 2019-11-01 11:00:00 35416.33    2019-10-30 33122.35          2019-10-25 \n",
       "26293 2019-11-01 12:00:00 33184.81    2019-10-30 31518.65          2019-10-25 \n",
       "26294 2019-11-01 13:00:00 33549.94    2019-10-30 31895.21          2019-10-25 \n",
       "26295 2019-11-01 14:00:00 35732.88    2019-10-30 33050.83          2019-10-25 \n",
       "26296 2019-11-01 15:00:00 35859.75    2019-10-30 33464.69          2019-10-25 \n",
       "26297 2019-11-01 16:00:00 36268.51    2019-10-30 34612.24          2019-10-25 \n",
       "26298 2019-11-01 17:00:00 37011.89    2019-10-30 36082.10          2019-10-25 \n",
       "26299 2019-11-01 18:00:00 37199.91    2019-10-30 36936.24          2019-10-25 \n",
       "26300 2019-11-01 19:00:00 36056.96    2019-10-30 36219.71          2019-10-25 \n",
       "26301 2019-11-01 20:00:00 35130.19    2019-10-30 35136.55          2019-10-25 \n",
       "26302 2019-11-01 21:00:00 33947.64    2019-10-30 34155.15          2019-10-25 \n",
       "26303 2019-11-01 22:00:00 32877.69    2019-10-30 32878.23          2019-10-25 \n",
       "26304 2019-11-01 23:00:00 31590.75    2019-10-30 31456.46          2019-10-25 \n",
       "      lag168_Consumption\n",
       "1     0                 \n",
       "2     0                 \n",
       "3     0                 \n",
       "4     0                 \n",
       "5     0                 \n",
       "6     0                 \n",
       "7     0                 \n",
       "8     0                 \n",
       "9     0                 \n",
       "10    0                 \n",
       "11    0                 \n",
       "12    0                 \n",
       "13    0                 \n",
       "14    0                 \n",
       "15    0                 \n",
       "16    0                 \n",
       "17    0                 \n",
       "18    0                 \n",
       "19    0                 \n",
       "20    0                 \n",
       "21    0                 \n",
       "22    0                 \n",
       "23    0                 \n",
       "24    0                 \n",
       "25    0                 \n",
       "26    0                 \n",
       "27    0                 \n",
       "28    0                 \n",
       "29    0                 \n",
       "30    0                 \n",
       "...   ...               \n",
       "26275 36896.34          \n",
       "26276 36101.45          \n",
       "26277 35323.94          \n",
       "26278 34256.95          \n",
       "26279 33052.27          \n",
       "26280 31544.26          \n",
       "26281 29563.43          \n",
       "26282 28242.90          \n",
       "26283 27258.74          \n",
       "26284 26739.84          \n",
       "26285 26555.35          \n",
       "26286 26857.36          \n",
       "26287 27783.77          \n",
       "26288 28969.45          \n",
       "26289 32153.21          \n",
       "26290 33615.22          \n",
       "26291 33398.50          \n",
       "26292 33542.88          \n",
       "26293 30839.72          \n",
       "26294 30920.91          \n",
       "26295 33019.99          \n",
       "26296 33476.62          \n",
       "26297 34304.06          \n",
       "26298 35973.89          \n",
       "26299 36302.11          \n",
       "26300 35698.70          \n",
       "26301 34820.93          \n",
       "26302 33659.48          \n",
       "26303 32696.81          \n",
       "26304 30942.64          "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "consumption.df"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We are going to use the test data as the dates after 1st of November, 2019 (included).\n",
    "As the train data, we are going to use the rest of the data but since there are no lag168_Consumption data for the first 168 row, we are going to eliminate them."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_data=consumption.df[Date>=\"2019-11-01\"]\n",
    "train_data=consumption.df[Date < \"2019-11-01\"]\n",
    "train_data=train_data[169:dim(train_data)[1]]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**MAPE of the Naive Forecasts.**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "0.0444778419008971"
      ],
      "text/latex": [
       "0.0444778419008971"
      ],
      "text/markdown": [
       "0.0444778419008971"
      ],
      "text/plain": [
       "[1] 0.04447784"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    },
    {
     "data": {
      "text/html": [
       "0.0263293095245023"
      ],
      "text/latex": [
       "0.0263293095245023"
      ],
      "text/markdown": [
       "0.0263293095245023"
      ],
      "text/plain": [
       "[1] 0.02632931"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "MAPE_lag48=0\n",
    "MAPE_lag168=0\n",
    "\n",
    "MAPE_lag48=sum(abs(test_data$Consumption-test_data$lag48_Consumption)/test_data$Consumption)/dim(test_data)[1]\n",
    "MAPE_lag168=sum(abs(test_data$Consumption-test_data$lag168_Consumption)/test_data$Consumption)/dim(test_data)[1]\n",
    "\n",
    "MAPE_lag48\n",
    "MAPE_lag168"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "We can see that lag168 consumption values are better forecasts than lag48 values."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Part B**"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*The linear regression model includes aforementioned two features (lag48_Consumption and lag168_Consumption) and an intercept.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "metadata": {},
   "outputs": [],
   "source": [
    "lm_consumption=lm(Consumption~lag48_Consumption+lag168_Consumption,train_data)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 13,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "\n",
       "Call:\n",
       "lm(formula = Consumption ~ lag48_Consumption + lag168_Consumption, \n",
       "    data = train_data)\n",
       "\n",
       "Residuals:\n",
       "     Min       1Q   Median       3Q      Max \n",
       "-16361.8   -988.9     -1.1   1011.8  16141.9 \n",
       "\n",
       "Coefficients:\n",
       "                    Estimate Std. Error t value Pr(>|t|)    \n",
       "(Intercept)        1.642e+03  1.120e+02   14.67   <2e-16 ***\n",
       "lag48_Consumption  2.997e-01  3.918e-03   76.49   <2e-16 ***\n",
       "lag168_Consumption 6.507e-01  3.923e-03  165.86   <2e-16 ***\n",
       "---\n",
       "Signif. codes:  0 ‘***’ 0.001 ‘**’ 0.01 ‘*’ 0.05 ‘.’ 0.1 ‘ ’ 1\n",
       "\n",
       "Residual standard error: 2379 on 26109 degrees of freedom\n",
       "Multiple R-squared:  0.7611,\tAdjusted R-squared:  0.7611 \n",
       "F-statistic: 4.158e+04 on 2 and 26109 DF,  p-value: < 2.2e-16\n"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "summary(lm_consumption)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<dl class=dl-horizontal>\n",
       "\t<dt>(Intercept)</dt>\n",
       "\t\t<dd>1642.34421409844</dd>\n",
       "\t<dt>lag48_Consumption</dt>\n",
       "\t\t<dd>0.29972324081469</dd>\n",
       "\t<dt>lag168_Consumption</dt>\n",
       "\t\t<dd>0.650685671438464</dd>\n",
       "</dl>\n"
      ],
      "text/latex": [
       "\\begin{description*}\n",
       "\\item[(Intercept)] 1642.34421409844\n",
       "\\item[lag48\\textbackslash{}\\_Consumption] 0.29972324081469\n",
       "\\item[lag168\\textbackslash{}\\_Consumption] 0.650685671438464\n",
       "\\end{description*}\n"
      ],
      "text/markdown": [
       "(Intercept)\n",
       ":   1642.34421409844lag48_Consumption\n",
       ":   0.29972324081469lag168_Consumption\n",
       ":   0.650685671438464\n",
       "\n"
      ],
      "text/plain": [
       "       (Intercept)  lag48_Consumption lag168_Consumption \n",
       "      1642.3442141          0.2997232          0.6506857 "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "lm_consumption$coefficients"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "    So, the predictions for the consumption amount for the dates after 1st of November, 2019 is given as:\n",
    "**Consumption = 1642.34421409844 + 0.29972324081469 x lag48_Consumption + 0.650685671438464 x lag168_Consumption**"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_data[,lm_Prediction:=lm_consumption$coefficients[1]+lm_consumption$coefficients[2]*lag48_Consumption+lm_consumption$coefficients[3]*lag168_Consumption]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>Date</th><th scope=col>Time</th><th scope=col>Consumption</th><th scope=col>lag48_Date</th><th scope=col>lag48_Consumption</th><th scope=col>lag168_Date</th><th scope=col>lag168_Consumption</th><th scope=col>lm_Prediction</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>2019-11-01</td><td>00:00:00  </td><td>29417.56  </td><td>2019-10-30</td><td>27154.21  </td><td>2019-10-25</td><td>29563.43  </td><td>29017.59  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>01:00:00  </td><td>28133.75  </td><td>2019-10-30</td><td>26157.42  </td><td>2019-10-25</td><td>28242.90  </td><td>27859.58  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>02:00:00  </td><td>27358.60  </td><td>2019-10-30</td><td>25373.88  </td><td>2019-10-25</td><td>27258.74  </td><td>26984.36  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>03:00:00  </td><td>26780.09  </td><td>2019-10-30</td><td>24911.43  </td><td>2019-10-25</td><td>26739.84  </td><td>26508.11  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>04:00:00  </td><td>26511.54  </td><td>2019-10-30</td><td>24836.11  </td><td>2019-10-25</td><td>26555.35  </td><td>26365.49  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>05:00:00  </td><td>27002.74  </td><td>2019-10-30</td><td>25233.76  </td><td>2019-10-25</td><td>26857.36  </td><td>26681.19  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>06:00:00  </td><td>27945.43  </td><td>2019-10-30</td><td>26296.00  </td><td>2019-10-25</td><td>27783.77  </td><td>27602.37  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>07:00:00  </td><td>29120.27  </td><td>2019-10-30</td><td>27575.60  </td><td>2019-10-25</td><td>28969.45  </td><td>28757.40  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>08:00:00  </td><td>32815.46  </td><td>2019-10-30</td><td>31667.27  </td><td>2019-10-25</td><td>32153.21  </td><td>32055.39  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>09:00:00  </td><td>34569.09  </td><td>2019-10-30</td><td>33138.17  </td><td>2019-10-25</td><td>33615.22  </td><td>33447.57  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>10:00:00  </td><td>35091.43  </td><td>2019-10-30</td><td>32926.25  </td><td>2019-10-25</td><td>33398.50  </td><td>33243.03  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>11:00:00  </td><td>35416.33  </td><td>2019-10-30</td><td>33122.35  </td><td>2019-10-25</td><td>33542.88  </td><td>33395.75  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>12:00:00  </td><td>33184.81  </td><td>2019-10-30</td><td>31518.65  </td><td>2019-10-25</td><td>30839.72  </td><td>31156.18  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>13:00:00  </td><td>33549.94  </td><td>2019-10-30</td><td>31895.21  </td><td>2019-10-25</td><td>30920.91  </td><td>31321.87  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>14:00:00  </td><td>35732.88  </td><td>2019-10-30</td><td>33050.83  </td><td>2019-10-25</td><td>33019.99  </td><td>33034.08  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>15:00:00  </td><td>35859.75  </td><td>2019-10-30</td><td>33464.69  </td><td>2019-10-25</td><td>33476.62  </td><td>33455.25  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>16:00:00  </td><td>36268.51  </td><td>2019-10-30</td><td>34612.24  </td><td>2019-10-25</td><td>34304.06  </td><td>34337.60  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>17:00:00  </td><td>37011.89  </td><td>2019-10-30</td><td>36082.10  </td><td>2019-10-25</td><td>35973.89  </td><td>35864.68  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>18:00:00  </td><td>37199.91  </td><td>2019-10-30</td><td>36936.24  </td><td>2019-10-25</td><td>36302.11  </td><td>36334.26  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>19:00:00  </td><td>36056.96  </td><td>2019-10-30</td><td>36219.71  </td><td>2019-10-25</td><td>35698.70  </td><td>35726.87  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>20:00:00  </td><td>35130.19  </td><td>2019-10-30</td><td>35136.55  </td><td>2019-10-25</td><td>34820.93  </td><td>34831.07  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>21:00:00  </td><td>33947.64  </td><td>2019-10-30</td><td>34155.15  </td><td>2019-10-25</td><td>33659.48  </td><td>33781.18  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>22:00:00  </td><td>32877.69  </td><td>2019-10-30</td><td>32878.23  </td><td>2019-10-25</td><td>32696.81  </td><td>32772.06  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>23:00:00  </td><td>31590.75  </td><td>2019-10-30</td><td>31456.46  </td><td>2019-10-25</td><td>30942.64  </td><td>31204.51  </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|llllllll}\n",
       " Date & Time & Consumption & lag48\\_Date & lag48\\_Consumption & lag168\\_Date & lag168\\_Consumption & lm\\_Prediction\\\\\n",
       "\\hline\n",
       "\t 2019-11-01 & 00:00:00   & 29417.56   & 2019-10-30 & 27154.21   & 2019-10-25 & 29563.43   & 29017.59  \\\\\n",
       "\t 2019-11-01 & 01:00:00   & 28133.75   & 2019-10-30 & 26157.42   & 2019-10-25 & 28242.90   & 27859.58  \\\\\n",
       "\t 2019-11-01 & 02:00:00   & 27358.60   & 2019-10-30 & 25373.88   & 2019-10-25 & 27258.74   & 26984.36  \\\\\n",
       "\t 2019-11-01 & 03:00:00   & 26780.09   & 2019-10-30 & 24911.43   & 2019-10-25 & 26739.84   & 26508.11  \\\\\n",
       "\t 2019-11-01 & 04:00:00   & 26511.54   & 2019-10-30 & 24836.11   & 2019-10-25 & 26555.35   & 26365.49  \\\\\n",
       "\t 2019-11-01 & 05:00:00   & 27002.74   & 2019-10-30 & 25233.76   & 2019-10-25 & 26857.36   & 26681.19  \\\\\n",
       "\t 2019-11-01 & 06:00:00   & 27945.43   & 2019-10-30 & 26296.00   & 2019-10-25 & 27783.77   & 27602.37  \\\\\n",
       "\t 2019-11-01 & 07:00:00   & 29120.27   & 2019-10-30 & 27575.60   & 2019-10-25 & 28969.45   & 28757.40  \\\\\n",
       "\t 2019-11-01 & 08:00:00   & 32815.46   & 2019-10-30 & 31667.27   & 2019-10-25 & 32153.21   & 32055.39  \\\\\n",
       "\t 2019-11-01 & 09:00:00   & 34569.09   & 2019-10-30 & 33138.17   & 2019-10-25 & 33615.22   & 33447.57  \\\\\n",
       "\t 2019-11-01 & 10:00:00   & 35091.43   & 2019-10-30 & 32926.25   & 2019-10-25 & 33398.50   & 33243.03  \\\\\n",
       "\t 2019-11-01 & 11:00:00   & 35416.33   & 2019-10-30 & 33122.35   & 2019-10-25 & 33542.88   & 33395.75  \\\\\n",
       "\t 2019-11-01 & 12:00:00   & 33184.81   & 2019-10-30 & 31518.65   & 2019-10-25 & 30839.72   & 31156.18  \\\\\n",
       "\t 2019-11-01 & 13:00:00   & 33549.94   & 2019-10-30 & 31895.21   & 2019-10-25 & 30920.91   & 31321.87  \\\\\n",
       "\t 2019-11-01 & 14:00:00   & 35732.88   & 2019-10-30 & 33050.83   & 2019-10-25 & 33019.99   & 33034.08  \\\\\n",
       "\t 2019-11-01 & 15:00:00   & 35859.75   & 2019-10-30 & 33464.69   & 2019-10-25 & 33476.62   & 33455.25  \\\\\n",
       "\t 2019-11-01 & 16:00:00   & 36268.51   & 2019-10-30 & 34612.24   & 2019-10-25 & 34304.06   & 34337.60  \\\\\n",
       "\t 2019-11-01 & 17:00:00   & 37011.89   & 2019-10-30 & 36082.10   & 2019-10-25 & 35973.89   & 35864.68  \\\\\n",
       "\t 2019-11-01 & 18:00:00   & 37199.91   & 2019-10-30 & 36936.24   & 2019-10-25 & 36302.11   & 36334.26  \\\\\n",
       "\t 2019-11-01 & 19:00:00   & 36056.96   & 2019-10-30 & 36219.71   & 2019-10-25 & 35698.70   & 35726.87  \\\\\n",
       "\t 2019-11-01 & 20:00:00   & 35130.19   & 2019-10-30 & 35136.55   & 2019-10-25 & 34820.93   & 34831.07  \\\\\n",
       "\t 2019-11-01 & 21:00:00   & 33947.64   & 2019-10-30 & 34155.15   & 2019-10-25 & 33659.48   & 33781.18  \\\\\n",
       "\t 2019-11-01 & 22:00:00   & 32877.69   & 2019-10-30 & 32878.23   & 2019-10-25 & 32696.81   & 32772.06  \\\\\n",
       "\t 2019-11-01 & 23:00:00   & 31590.75   & 2019-10-30 & 31456.46   & 2019-10-25 & 30942.64   & 31204.51  \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| Date | Time | Consumption | lag48_Date | lag48_Consumption | lag168_Date | lag168_Consumption | lm_Prediction |\n",
       "|---|---|---|---|---|---|---|---|\n",
       "| 2019-11-01 | 00:00:00   | 29417.56   | 2019-10-30 | 27154.21   | 2019-10-25 | 29563.43   | 29017.59   |\n",
       "| 2019-11-01 | 01:00:00   | 28133.75   | 2019-10-30 | 26157.42   | 2019-10-25 | 28242.90   | 27859.58   |\n",
       "| 2019-11-01 | 02:00:00   | 27358.60   | 2019-10-30 | 25373.88   | 2019-10-25 | 27258.74   | 26984.36   |\n",
       "| 2019-11-01 | 03:00:00   | 26780.09   | 2019-10-30 | 24911.43   | 2019-10-25 | 26739.84   | 26508.11   |\n",
       "| 2019-11-01 | 04:00:00   | 26511.54   | 2019-10-30 | 24836.11   | 2019-10-25 | 26555.35   | 26365.49   |\n",
       "| 2019-11-01 | 05:00:00   | 27002.74   | 2019-10-30 | 25233.76   | 2019-10-25 | 26857.36   | 26681.19   |\n",
       "| 2019-11-01 | 06:00:00   | 27945.43   | 2019-10-30 | 26296.00   | 2019-10-25 | 27783.77   | 27602.37   |\n",
       "| 2019-11-01 | 07:00:00   | 29120.27   | 2019-10-30 | 27575.60   | 2019-10-25 | 28969.45   | 28757.40   |\n",
       "| 2019-11-01 | 08:00:00   | 32815.46   | 2019-10-30 | 31667.27   | 2019-10-25 | 32153.21   | 32055.39   |\n",
       "| 2019-11-01 | 09:00:00   | 34569.09   | 2019-10-30 | 33138.17   | 2019-10-25 | 33615.22   | 33447.57   |\n",
       "| 2019-11-01 | 10:00:00   | 35091.43   | 2019-10-30 | 32926.25   | 2019-10-25 | 33398.50   | 33243.03   |\n",
       "| 2019-11-01 | 11:00:00   | 35416.33   | 2019-10-30 | 33122.35   | 2019-10-25 | 33542.88   | 33395.75   |\n",
       "| 2019-11-01 | 12:00:00   | 33184.81   | 2019-10-30 | 31518.65   | 2019-10-25 | 30839.72   | 31156.18   |\n",
       "| 2019-11-01 | 13:00:00   | 33549.94   | 2019-10-30 | 31895.21   | 2019-10-25 | 30920.91   | 31321.87   |\n",
       "| 2019-11-01 | 14:00:00   | 35732.88   | 2019-10-30 | 33050.83   | 2019-10-25 | 33019.99   | 33034.08   |\n",
       "| 2019-11-01 | 15:00:00   | 35859.75   | 2019-10-30 | 33464.69   | 2019-10-25 | 33476.62   | 33455.25   |\n",
       "| 2019-11-01 | 16:00:00   | 36268.51   | 2019-10-30 | 34612.24   | 2019-10-25 | 34304.06   | 34337.60   |\n",
       "| 2019-11-01 | 17:00:00   | 37011.89   | 2019-10-30 | 36082.10   | 2019-10-25 | 35973.89   | 35864.68   |\n",
       "| 2019-11-01 | 18:00:00   | 37199.91   | 2019-10-30 | 36936.24   | 2019-10-25 | 36302.11   | 36334.26   |\n",
       "| 2019-11-01 | 19:00:00   | 36056.96   | 2019-10-30 | 36219.71   | 2019-10-25 | 35698.70   | 35726.87   |\n",
       "| 2019-11-01 | 20:00:00   | 35130.19   | 2019-10-30 | 35136.55   | 2019-10-25 | 34820.93   | 34831.07   |\n",
       "| 2019-11-01 | 21:00:00   | 33947.64   | 2019-10-30 | 34155.15   | 2019-10-25 | 33659.48   | 33781.18   |\n",
       "| 2019-11-01 | 22:00:00   | 32877.69   | 2019-10-30 | 32878.23   | 2019-10-25 | 32696.81   | 32772.06   |\n",
       "| 2019-11-01 | 23:00:00   | 31590.75   | 2019-10-30 | 31456.46   | 2019-10-25 | 30942.64   | 31204.51   |\n",
       "\n"
      ],
      "text/plain": [
       "   Date       Time     Consumption lag48_Date lag48_Consumption lag168_Date\n",
       "1  2019-11-01 00:00:00 29417.56    2019-10-30 27154.21          2019-10-25 \n",
       "2  2019-11-01 01:00:00 28133.75    2019-10-30 26157.42          2019-10-25 \n",
       "3  2019-11-01 02:00:00 27358.60    2019-10-30 25373.88          2019-10-25 \n",
       "4  2019-11-01 03:00:00 26780.09    2019-10-30 24911.43          2019-10-25 \n",
       "5  2019-11-01 04:00:00 26511.54    2019-10-30 24836.11          2019-10-25 \n",
       "6  2019-11-01 05:00:00 27002.74    2019-10-30 25233.76          2019-10-25 \n",
       "7  2019-11-01 06:00:00 27945.43    2019-10-30 26296.00          2019-10-25 \n",
       "8  2019-11-01 07:00:00 29120.27    2019-10-30 27575.60          2019-10-25 \n",
       "9  2019-11-01 08:00:00 32815.46    2019-10-30 31667.27          2019-10-25 \n",
       "10 2019-11-01 09:00:00 34569.09    2019-10-30 33138.17          2019-10-25 \n",
       "11 2019-11-01 10:00:00 35091.43    2019-10-30 32926.25          2019-10-25 \n",
       "12 2019-11-01 11:00:00 35416.33    2019-10-30 33122.35          2019-10-25 \n",
       "13 2019-11-01 12:00:00 33184.81    2019-10-30 31518.65          2019-10-25 \n",
       "14 2019-11-01 13:00:00 33549.94    2019-10-30 31895.21          2019-10-25 \n",
       "15 2019-11-01 14:00:00 35732.88    2019-10-30 33050.83          2019-10-25 \n",
       "16 2019-11-01 15:00:00 35859.75    2019-10-30 33464.69          2019-10-25 \n",
       "17 2019-11-01 16:00:00 36268.51    2019-10-30 34612.24          2019-10-25 \n",
       "18 2019-11-01 17:00:00 37011.89    2019-10-30 36082.10          2019-10-25 \n",
       "19 2019-11-01 18:00:00 37199.91    2019-10-30 36936.24          2019-10-25 \n",
       "20 2019-11-01 19:00:00 36056.96    2019-10-30 36219.71          2019-10-25 \n",
       "21 2019-11-01 20:00:00 35130.19    2019-10-30 35136.55          2019-10-25 \n",
       "22 2019-11-01 21:00:00 33947.64    2019-10-30 34155.15          2019-10-25 \n",
       "23 2019-11-01 22:00:00 32877.69    2019-10-30 32878.23          2019-10-25 \n",
       "24 2019-11-01 23:00:00 31590.75    2019-10-30 31456.46          2019-10-25 \n",
       "   lag168_Consumption lm_Prediction\n",
       "1  29563.43           29017.59     \n",
       "2  28242.90           27859.58     \n",
       "3  27258.74           26984.36     \n",
       "4  26739.84           26508.11     \n",
       "5  26555.35           26365.49     \n",
       "6  26857.36           26681.19     \n",
       "7  27783.77           27602.37     \n",
       "8  28969.45           28757.40     \n",
       "9  32153.21           32055.39     \n",
       "10 33615.22           33447.57     \n",
       "11 33398.50           33243.03     \n",
       "12 33542.88           33395.75     \n",
       "13 30839.72           31156.18     \n",
       "14 30920.91           31321.87     \n",
       "15 33019.99           33034.08     \n",
       "16 33476.62           33455.25     \n",
       "17 34304.06           34337.60     \n",
       "18 35973.89           35864.68     \n",
       "19 36302.11           36334.26     \n",
       "20 35698.70           35726.87     \n",
       "21 34820.93           34831.07     \n",
       "22 33659.48           33781.18     \n",
       "23 32696.81           32772.06     \n",
       "24 30942.64           31204.51     "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "test_data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "0.0279292120545463"
      ],
      "text/latex": [
       "0.0279292120545463"
      ],
      "text/markdown": [
       "0.0279292120545463"
      ],
      "text/plain": [
       "[1] 0.02792921"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "MAPE_lm=sum(abs(test_data$Consumption-test_data$lm_Prediction)/test_data$Consumption)/dim(test_data)[1]\n",
    "MAPE_lm"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Part C**"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "Here we are going to train linear regression models for each hour using the same training period (24 models)."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Separating data for each hour*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "metadata": {},
   "outputs": [],
   "source": [
    "hour0=train_data[Time==\"00:00:00\"]\n",
    "hour1=train_data[Time==\"01:00:00\"]\n",
    "hour2=train_data[Time==\"02:00:00\"]\n",
    "hour3=train_data[Time==\"03:00:00\"]\n",
    "hour4=train_data[Time==\"04:00:00\"]\n",
    "hour5=train_data[Time==\"05:00:00\"]\n",
    "hour6=train_data[Time==\"06:00:00\"]\n",
    "hour7=train_data[Time==\"07:00:00\"]\n",
    "hour8=train_data[Time==\"08:00:00\"]\n",
    "hour9=train_data[Time==\"09:00:00\"]\n",
    "hour10=train_data[Time==\"10:00:00\"]\n",
    "hour11=train_data[Time==\"11:00:00\"]\n",
    "hour12=train_data[Time==\"12:00:00\"]\n",
    "hour13=train_data[Time==\"13:00:00\"]\n",
    "hour14=train_data[Time==\"14:00:00\"]\n",
    "hour15=train_data[Time==\"15:00:00\"]\n",
    "hour16=train_data[Time==\"16:00:00\"]\n",
    "hour17=train_data[Time==\"17:00:00\"]\n",
    "hour18=train_data[Time==\"18:00:00\"]\n",
    "hour19=train_data[Time==\"19:00:00\"]\n",
    "hour20=train_data[Time==\"20:00:00\"]\n",
    "hour21=train_data[Time==\"21:00:00\"]\n",
    "hour22=train_data[Time==\"22:00:00\"]\n",
    "hour23=train_data[Time==\"23:00:00\"]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Linear models are built for each hour.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "metadata": {},
   "outputs": [],
   "source": [
    "lm_h0=lm(Consumption~lag48_Consumption+lag168_Consumption,hour0)\n",
    "lm_h1=lm(Consumption~lag48_Consumption+lag168_Consumption,hour1)\n",
    "lm_h2=lm(Consumption~lag48_Consumption+lag168_Consumption,hour2)\n",
    "lm_h3=lm(Consumption~lag48_Consumption+lag168_Consumption,hour3)\n",
    "lm_h4=lm(Consumption~lag48_Consumption+lag168_Consumption,hour4)\n",
    "lm_h5=lm(Consumption~lag48_Consumption+lag168_Consumption,hour5)\n",
    "lm_h6=lm(Consumption~lag48_Consumption+lag168_Consumption,hour6)\n",
    "lm_h7=lm(Consumption~lag48_Consumption+lag168_Consumption,hour7)\n",
    "lm_h8=lm(Consumption~lag48_Consumption+lag168_Consumption,hour8)\n",
    "lm_h9=lm(Consumption~lag48_Consumption+lag168_Consumption,hour9)\n",
    "lm_h10=lm(Consumption~lag48_Consumption+lag168_Consumption,hour10)\n",
    "lm_h11=lm(Consumption~lag48_Consumption+lag168_Consumption,hour11)\n",
    "lm_h12=lm(Consumption~lag48_Consumption+lag168_Consumption,hour12)\n",
    "lm_h13=lm(Consumption~lag48_Consumption+lag168_Consumption,hour13)\n",
    "lm_h14=lm(Consumption~lag48_Consumption+lag168_Consumption,hour14)\n",
    "lm_h15=lm(Consumption~lag48_Consumption+lag168_Consumption,hour15)\n",
    "lm_h16=lm(Consumption~lag48_Consumption+lag168_Consumption,hour16)\n",
    "lm_h17=lm(Consumption~lag48_Consumption+lag168_Consumption,hour17)\n",
    "lm_h18=lm(Consumption~lag48_Consumption+lag168_Consumption,hour18)\n",
    "lm_h19=lm(Consumption~lag48_Consumption+lag168_Consumption,hour19)\n",
    "lm_h20=lm(Consumption~lag48_Consumption+lag168_Consumption,hour20)\n",
    "lm_h21=lm(Consumption~lag48_Consumption+lag168_Consumption,hour21)\n",
    "lm_h22=lm(Consumption~lag48_Consumption+lag168_Consumption,hour22)\n",
    "lm_h23=lm(Consumption~lag48_Consumption+lag168_Consumption,hour23)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*New column is created for the predictions.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_data[,lm_Hourly_Prediction:=0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*The forecasts using the linear models for each hour is used for prediction.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_data$lm_Hourly_Prediction[1]=lm_h0$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[1]+lm_h0$coefficients[3]*test_data$lag168_Consumption[1]\n",
    "test_data$lm_Hourly_Prediction[2]=lm_h1$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[2]+lm_h0$coefficients[3]*test_data$lag168_Consumption[2]\n",
    "test_data$lm_Hourly_Prediction[3]=lm_h2$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[3]+lm_h0$coefficients[3]*test_data$lag168_Consumption[3]\n",
    "test_data$lm_Hourly_Prediction[4]=lm_h3$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[4]+lm_h0$coefficients[3]*test_data$lag168_Consumption[4]\n",
    "test_data$lm_Hourly_Prediction[5]=lm_h4$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[5]+lm_h0$coefficients[3]*test_data$lag168_Consumption[5]\n",
    "test_data$lm_Hourly_Prediction[6]=lm_h5$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[6]+lm_h0$coefficients[3]*test_data$lag168_Consumption[6]\n",
    "test_data$lm_Hourly_Prediction[7]=lm_h6$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[7]+lm_h0$coefficients[3]*test_data$lag168_Consumption[7]\n",
    "test_data$lm_Hourly_Prediction[8]=lm_h7$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[8]+lm_h0$coefficients[3]*test_data$lag168_Consumption[8]\n",
    "test_data$lm_Hourly_Prediction[9]=lm_h8$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[9]+lm_h0$coefficients[3]*test_data$lag168_Consumption[9]\n",
    "test_data$lm_Hourly_Prediction[10]=lm_h9$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[10]+lm_h0$coefficients[3]*test_data$lag168_Consumption[10]\n",
    "test_data$lm_Hourly_Prediction[11]=lm_h10$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[11]+lm_h0$coefficients[3]*test_data$lag168_Consumption[11]\n",
    "test_data$lm_Hourly_Prediction[12]=lm_h11$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[12]+lm_h0$coefficients[3]*test_data$lag168_Consumption[12]\n",
    "test_data$lm_Hourly_Prediction[13]=lm_h12$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[13]+lm_h0$coefficients[3]*test_data$lag168_Consumption[13]\n",
    "test_data$lm_Hourly_Prediction[14]=lm_h13$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[14]+lm_h0$coefficients[3]*test_data$lag168_Consumption[14]\n",
    "test_data$lm_Hourly_Prediction[15]=lm_h14$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[15]+lm_h0$coefficients[3]*test_data$lag168_Consumption[15]\n",
    "test_data$lm_Hourly_Prediction[16]=lm_h15$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[16]+lm_h0$coefficients[3]*test_data$lag168_Consumption[16]\n",
    "test_data$lm_Hourly_Prediction[17]=lm_h16$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[17]+lm_h0$coefficients[3]*test_data$lag168_Consumption[17]\n",
    "test_data$lm_Hourly_Prediction[18]=lm_h17$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[18]+lm_h0$coefficients[3]*test_data$lag168_Consumption[18]\n",
    "test_data$lm_Hourly_Prediction[19]=lm_h18$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[19]+lm_h0$coefficients[3]*test_data$lag168_Consumption[19]\n",
    "test_data$lm_Hourly_Prediction[20]=lm_h19$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[20]+lm_h0$coefficients[3]*test_data$lag168_Consumption[20]\n",
    "test_data$lm_Hourly_Prediction[21]=lm_h20$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[21]+lm_h0$coefficients[3]*test_data$lag168_Consumption[21]\n",
    "test_data$lm_Hourly_Prediction[22]=lm_h21$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[22]+lm_h0$coefficients[3]*test_data$lag168_Consumption[22]\n",
    "test_data$lm_Hourly_Prediction[23]=lm_h22$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[23]+lm_h0$coefficients[3]*test_data$lag168_Consumption[23]\n",
    "test_data$lm_Hourly_Prediction[24]=lm_h23$coefficients[1]+lm_h0$coefficients[2]*test_data$lag48_Consumption[24]+lm_h0$coefficients[3]*test_data$lag168_Consumption[24]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "0.0157844740460675"
      ],
      "text/latex": [
       "0.0157844740460675"
      ],
      "text/markdown": [
       "0.0157844740460675"
      ],
      "text/plain": [
       "[1] 0.01578447"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "MAPE_lm_hourly=sum(abs(test_data$Consumption-test_data$lm_Hourly_Prediction)/test_data$Consumption)/dim(test_data)[1]\n",
    "MAPE_lm_hourly"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Part D**"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Preparation of data in the wide format*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_wide=consumption.df"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_wide[,lag48_Date:=NULL]\n",
    "data_wide[,lag168_Date:=NULL]\n",
    "data_wide[,lag48_Consumption:=NULL]\n",
    "data_wide[,lag168_Consumption:=NULL]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>Date</th><th scope=col>00:00:00</th><th scope=col>01:00:00</th><th scope=col>02:00:00</th><th scope=col>03:00:00</th><th scope=col>04:00:00</th><th scope=col>05:00:00</th><th scope=col>06:00:00</th><th scope=col>07:00:00</th><th scope=col>08:00:00</th><th scope=col>...</th><th scope=col>14:00:00</th><th scope=col>15:00:00</th><th scope=col>16:00:00</th><th scope=col>17:00:00</th><th scope=col>18:00:00</th><th scope=col>19:00:00</th><th scope=col>20:00:00</th><th scope=col>21:00:00</th><th scope=col>22:00:00</th><th scope=col>23:00:00</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>2016-11-01</td><td>28032.45  </td><td>26515.65  </td><td>25687.16  </td><td>25152.53  </td><td>24903.70  </td><td>25197.38  </td><td>25965.52  </td><td>27573.40  </td><td>31815.96  </td><td>...       </td><td>35069.03  </td><td>34718.82  </td><td>34934.69  </td><td>35278.73  </td><td>35589.85  </td><td>34449.39  </td><td>33620.31  </td><td>32630.86  </td><td>32148.63  </td><td>30647.12  </td></tr>\n",
       "\t<tr><td>2016-11-02</td><td>28443.75  </td><td>26987.62  </td><td>26131.66  </td><td>25655.50  </td><td>25268.47  </td><td>25752.35  </td><td>26715.97  </td><td>28421.31  </td><td>32653.72  </td><td>...       </td><td>35030.24  </td><td>34664.89  </td><td>34725.83  </td><td>35367.85  </td><td>36114.10  </td><td>35622.12  </td><td>34818.21  </td><td>33833.66  </td><td>33166.59  </td><td>31708.78  </td></tr>\n",
       "\t<tr><td>2016-11-03</td><td>29121.03  </td><td>27665.55  </td><td>26689.57  </td><td>26057.45  </td><td>25730.03  </td><td>26503.83  </td><td>27406.71  </td><td>29047.66  </td><td>33244.35  </td><td>...       </td><td>34569.26  </td><td>34185.81  </td><td>34376.30  </td><td>35192.63  </td><td>36169.75  </td><td>35507.07  </td><td>34678.88  </td><td>33825.89  </td><td>33086.19  </td><td>31618.59  </td></tr>\n",
       "\t<tr><td>2016-11-04</td><td>29024.93  </td><td>27753.29  </td><td>26432.15  </td><td>25943.66  </td><td>25670.40  </td><td>26223.43  </td><td>27552.35  </td><td>29084.00  </td><td>33183.49  </td><td>...       </td><td>35273.14  </td><td>34835.68  </td><td>35034.60  </td><td>35809.91  </td><td>36367.53  </td><td>35389.82  </td><td>34410.85  </td><td>33275.09  </td><td>32793.00  </td><td>31562.25  </td></tr>\n",
       "\t<tr><td>2016-11-05</td><td>29241.68  </td><td>27802.16  </td><td>26585.33  </td><td>26006.92  </td><td>25796.40  </td><td>25947.40  </td><td>26505.31  </td><td>27193.91  </td><td>30401.78  </td><td>...       </td><td>32757.32  </td><td>32139.61  </td><td>31807.34  </td><td>32672.77  </td><td>34061.74  </td><td>33312.47  </td><td>32485.60  </td><td>31782.61  </td><td>31281.05  </td><td>29766.51  </td></tr>\n",
       "\t<tr><td>2016-11-06</td><td>27756.16  </td><td>26152.01  </td><td>24948.29  </td><td>24485.74  </td><td>24102.25  </td><td>24185.83  </td><td>24293.39  </td><td>23736.54  </td><td>24640.05  </td><td>...       </td><td>27480.03  </td><td>27235.76  </td><td>27411.49  </td><td>28926.80  </td><td>31132.40  </td><td>30949.32  </td><td>30522.79  </td><td>29838.59  </td><td>29282.05  </td><td>27671.45  </td></tr>\n",
       "\t<tr><td>2016-11-07</td><td>26041.10  </td><td>24669.75  </td><td>24048.99  </td><td>23347.38  </td><td>23400.79  </td><td>23864.99  </td><td>25530.12  </td><td>27609.98  </td><td>31898.48  </td><td>...       </td><td>34239.96  </td><td>34115.60  </td><td>34938.23  </td><td>35121.84  </td><td>35396.59  </td><td>34380.33  </td><td>33520.54  </td><td>32714.34  </td><td>31847.48  </td><td>30295.86  </td></tr>\n",
       "\t<tr><td>2016-11-08</td><td>28289.42  </td><td>26909.99  </td><td>26033.37  </td><td>25521.27  </td><td>25434.25  </td><td>25747.41  </td><td>26847.36  </td><td>28384.51  </td><td>32425.54  </td><td>...       </td><td>34000.72  </td><td>33612.86  </td><td>33687.50  </td><td>34416.41  </td><td>34830.20  </td><td>33860.74  </td><td>33226.17  </td><td>32292.83  </td><td>31522.61  </td><td>30215.19  </td></tr>\n",
       "\t<tr><td>2016-11-09</td><td>28169.88  </td><td>26842.45  </td><td>26041.27  </td><td>25594.72  </td><td>25431.54  </td><td>25786.26  </td><td>26829.46  </td><td>28338.69  </td><td>31998.44  </td><td>...       </td><td>34084.92  </td><td>33670.62  </td><td>33704.98  </td><td>34574.32  </td><td>34867.00  </td><td>33963.82  </td><td>33048.78  </td><td>32192.10  </td><td>31308.69  </td><td>30088.98  </td></tr>\n",
       "\t<tr><td>2016-11-10</td><td>28043.85  </td><td>26697.08  </td><td>25699.63  </td><td>25320.29  </td><td>25205.27  </td><td>25561.88  </td><td>26627.44  </td><td>28121.14  </td><td>31762.78  </td><td>...       </td><td>34115.60  </td><td>33723.35  </td><td>33741.92  </td><td>34282.73  </td><td>35017.89  </td><td>34194.08  </td><td>33331.31  </td><td>32351.56  </td><td>31895.64  </td><td>30624.21  </td></tr>\n",
       "\t<tr><td>2016-11-11</td><td>28406.63  </td><td>26930.13  </td><td>25798.84  </td><td>25726.06  </td><td>25445.79  </td><td>25802.05  </td><td>26440.88  </td><td>28332.59  </td><td>31842.83  </td><td>...       </td><td>33501.23  </td><td>33231.64  </td><td>33537.67  </td><td>34333.68  </td><td>34605.21  </td><td>33781.16  </td><td>32956.85  </td><td>32216.92  </td><td>31582.88  </td><td>30700.37  </td></tr>\n",
       "\t<tr><td>2016-11-12</td><td>28592.65  </td><td>27126.19  </td><td>26030.55  </td><td>25122.95  </td><td>25264.01  </td><td>25454.93  </td><td>25866.72  </td><td>26869.65  </td><td>29819.21  </td><td>...       </td><td>31899.60  </td><td>31202.62  </td><td>31115.72  </td><td>31812.64  </td><td>32950.41  </td><td>32280.42  </td><td>31594.76  </td><td>30958.15  </td><td>30461.56  </td><td>29013.99  </td></tr>\n",
       "\t<tr><td>2016-11-13</td><td>27417.65  </td><td>25857.95  </td><td>24451.00  </td><td>23926.44  </td><td>23656.88  </td><td>23672.10  </td><td>23745.51  </td><td>23326.12  </td><td>23916.40  </td><td>...       </td><td>27329.71  </td><td>27236.65  </td><td>27533.85  </td><td>28695.32  </td><td>30353.32  </td><td>30175.16  </td><td>29801.85  </td><td>29289.56  </td><td>28861.39  </td><td>27612.14  </td></tr>\n",
       "\t<tr><td>2016-11-14</td><td>25902.55  </td><td>24629.22  </td><td>23576.41  </td><td>23264.37  </td><td>23183.46  </td><td>23634.20  </td><td>24964.14  </td><td>27044.45  </td><td>31641.70  </td><td>...       </td><td>34785.98  </td><td>34500.88  </td><td>34767.50  </td><td>35800.73  </td><td>35780.17  </td><td>34643.68  </td><td>34118.53  </td><td>33091.63  </td><td>32375.75  </td><td>30964.22  </td></tr>\n",
       "\t<tr><td>2016-11-15</td><td>28743.84  </td><td>27342.45  </td><td>26293.71  </td><td>25704.91  </td><td>25611.94  </td><td>26043.47  </td><td>27088.20  </td><td>28903.21  </td><td>33068.16  </td><td>...       </td><td>36075.57  </td><td>35692.81  </td><td>35895.78  </td><td>36652.62  </td><td>36586.33  </td><td>35510.57  </td><td>34571.32  </td><td>33645.50  </td><td>32977.72  </td><td>31540.68  </td></tr>\n",
       "\t<tr><td>2016-11-16</td><td>29114.75  </td><td>27620.91  </td><td>26590.51  </td><td>26133.03  </td><td>26032.88  </td><td>26365.35  </td><td>27446.72  </td><td>29285.02  </td><td>33514.86  </td><td>...       </td><td>36824.00  </td><td>36530.13  </td><td>36730.43  </td><td>37611.70  </td><td>37302.11  </td><td>36210.85  </td><td>35101.71  </td><td>34139.19  </td><td>33420.47  </td><td>31929.50  </td></tr>\n",
       "\t<tr><td>2016-11-17</td><td>29552.15  </td><td>27742.90  </td><td>26739.00  </td><td>26218.27  </td><td>26028.40  </td><td>26424.68  </td><td>27624.23  </td><td>29631.82  </td><td>33764.41  </td><td>...       </td><td>35947.97  </td><td>35629.11  </td><td>36090.10  </td><td>37117.58  </td><td>37428.41  </td><td>36502.75  </td><td>35494.16  </td><td>34493.89  </td><td>33644.77  </td><td>31916.32  </td></tr>\n",
       "\t<tr><td>2016-11-18</td><td>29713.65  </td><td>27784.75  </td><td>26870.65  </td><td>26352.47  </td><td>26123.57  </td><td>26599.72  </td><td>27879.64  </td><td>29970.64  </td><td>34054.11  </td><td>...       </td><td>35166.67  </td><td>35049.93  </td><td>35437.17  </td><td>36549.82  </td><td>36912.34  </td><td>36084.33  </td><td>35349.38  </td><td>34484.27  </td><td>33881.96  </td><td>32549.09  </td></tr>\n",
       "\t<tr><td>2016-11-19</td><td>30219.53  </td><td>28326.28  </td><td>27039.44  </td><td>26374.86  </td><td>26224.27  </td><td>26441.62  </td><td>27120.43  </td><td>27926.03  </td><td>31444.06  </td><td>...       </td><td>33429.45  </td><td>32885.96  </td><td>32792.01  </td><td>33986.31  </td><td>35265.96  </td><td>34572.11  </td><td>33862.89  </td><td>33010.62  </td><td>32517.15  </td><td>30929.11  </td></tr>\n",
       "\t<tr><td>2016-11-20</td><td>28722.00  </td><td>26928.56  </td><td>25584.49  </td><td>24801.01  </td><td>24431.66  </td><td>24454.85  </td><td>24689.39  </td><td>24781.36  </td><td>25579.12  </td><td>...       </td><td>28135.66  </td><td>28090.97  </td><td>28474.08  </td><td>30450.88  </td><td>32281.73  </td><td>32289.65  </td><td>31725.37  </td><td>30961.99  </td><td>30534.52  </td><td>29205.66  </td></tr>\n",
       "\t<tr><td>2016-11-21</td><td>27144.66  </td><td>25562.36  </td><td>24584.52  </td><td>24108.06  </td><td>24049.11  </td><td>24508.04  </td><td>25871.82  </td><td>28272.31  </td><td>32870.13  </td><td>...       </td><td>35797.71  </td><td>35679.17  </td><td>35970.71  </td><td>37315.06  </td><td>37301.55  </td><td>36286.13  </td><td>35539.39  </td><td>34330.38  </td><td>33682.05  </td><td>32146.84  </td></tr>\n",
       "\t<tr><td>2016-11-22</td><td>29641.77  </td><td>27941.44  </td><td>26889.15  </td><td>26275.85  </td><td>26233.38  </td><td>26575.02  </td><td>27819.71  </td><td>29709.93  </td><td>33942.60  </td><td>...       </td><td>35466.40  </td><td>35321.80  </td><td>35888.83  </td><td>37130.00  </td><td>37347.56  </td><td>36302.01  </td><td>35451.37  </td><td>34403.36  </td><td>33772.99  </td><td>32363.44  </td></tr>\n",
       "\t<tr><td>2016-11-23</td><td>29796.84  </td><td>28184.01  </td><td>27222.72  </td><td>26620.37  </td><td>26512.81  </td><td>26887.12  </td><td>28077.93  </td><td>30085.11  </td><td>34078.22  </td><td>...       </td><td>36033.14  </td><td>35751.88  </td><td>36235.28  </td><td>37548.76  </td><td>37714.48  </td><td>36589.42  </td><td>35781.90  </td><td>35049.31  </td><td>34297.88  </td><td>32735.33  </td></tr>\n",
       "\t<tr><td>2016-11-24</td><td>30488.20  </td><td>28583.85  </td><td>27380.81  </td><td>26864.84  </td><td>26464.85  </td><td>27187.72  </td><td>28081.69  </td><td>30286.74  </td><td>34159.36  </td><td>...       </td><td>36162.95  </td><td>35921.16  </td><td>36232.21  </td><td>37817.66  </td><td>37835.70  </td><td>36896.58  </td><td>35947.65  </td><td>35061.47  </td><td>34489.33  </td><td>33174.57  </td></tr>\n",
       "\t<tr><td>2016-11-25</td><td>30732.32  </td><td>28453.74  </td><td>27863.49  </td><td>27258.41  </td><td>27130.40  </td><td>27388.28  </td><td>28733.41  </td><td>30766.13  </td><td>34607.24  </td><td>...       </td><td>35261.42  </td><td>35594.68  </td><td>36176.79  </td><td>37149.05  </td><td>37511.49  </td><td>36304.14  </td><td>35411.25  </td><td>34524.11  </td><td>33941.38  </td><td>32593.41  </td></tr>\n",
       "\t<tr><td>2016-11-26</td><td>30508.74  </td><td>28601.73  </td><td>27398.64  </td><td>26894.86  </td><td>26713.21  </td><td>26848.12  </td><td>27492.19  </td><td>28434.66  </td><td>31449.55  </td><td>...       </td><td>34021.14  </td><td>33506.65  </td><td>33532.78  </td><td>34946.02  </td><td>35784.04  </td><td>34899.40  </td><td>34116.64  </td><td>33445.55  </td><td>32869.18  </td><td>31709.09  </td></tr>\n",
       "\t<tr><td>2016-11-27</td><td>29297.38  </td><td>27414.53  </td><td>25979.42  </td><td>25425.66  </td><td>25309.07  </td><td>25213.82  </td><td>25423.09  </td><td>25423.74  </td><td>25679.98  </td><td>...       </td><td>28900.02  </td><td>28696.09  </td><td>29371.23  </td><td>31322.66  </td><td>32835.11  </td><td>32599.19  </td><td>32050.82  </td><td>31643.50  </td><td>30802.60  </td><td>29874.24  </td></tr>\n",
       "\t<tr><td>2016-11-28</td><td>27493.29  </td><td>25785.28  </td><td>24795.56  </td><td>24268.82  </td><td>24526.83  </td><td>24757.15  </td><td>26105.30  </td><td>28654.25  </td><td>33321.99  </td><td>...       </td><td>37155.18  </td><td>36944.60  </td><td>37592.34  </td><td>38234.19  </td><td>37704.60  </td><td>36541.45  </td><td>35734.00  </td><td>34748.44  </td><td>34020.40  </td><td>32334.37  </td></tr>\n",
       "\t<tr><td>2016-11-29</td><td>30240.42  </td><td>28187.44  </td><td>27153.59  </td><td>26792.41  </td><td>26603.63  </td><td>27114.70  </td><td>28210.69  </td><td>30239.42  </td><td>34252.67  </td><td>...       </td><td>38458.67  </td><td>38329.21  </td><td>38492.99  </td><td>39118.86  </td><td>38058.96  </td><td>36744.92  </td><td>35967.99  </td><td>34863.26  </td><td>34314.44  </td><td>32882.66  </td></tr>\n",
       "\t<tr><td>2016-11-30</td><td>30401.59  </td><td>28500.71  </td><td>27036.79  </td><td>26877.56  </td><td>26810.02  </td><td>27326.48  </td><td>28633.09  </td><td>30829.85  </td><td>34988.47  </td><td>...       </td><td>39455.88  </td><td>39184.74  </td><td>39157.78  </td><td>39455.98  </td><td>38421.22  </td><td>37218.74  </td><td>36340.90  </td><td>35405.65  </td><td>34983.98  </td><td>33492.03  </td></tr>\n",
       "\t<tr><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>   </td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr>\n",
       "\t<tr><td>2019-10-03</td><td>30156.18  </td><td>28840.52  </td><td>28012.38  </td><td>27467.55  </td><td>27240.64  </td><td>27491.50  </td><td>27929.70  </td><td>29006.96  </td><td>32548.26  </td><td>...       </td><td>35533.33  </td><td>35717.09  </td><td>36246.95  </td><td>36781.67  </td><td>36866.64  </td><td>37272.52  </td><td>36291.59  </td><td>35018.16  </td><td>33957.18  </td><td>32420.60  </td></tr>\n",
       "\t<tr><td>2019-10-04</td><td>30464.48  </td><td>29166.60  </td><td>28059.80  </td><td>27541.97  </td><td>27356.75  </td><td>27731.29  </td><td>28173.00  </td><td>29037.37  </td><td>32608.56  </td><td>...       </td><td>35353.24  </td><td>35589.36  </td><td>36243.35  </td><td>36459.43  </td><td>36699.52  </td><td>36873.23  </td><td>35597.62  </td><td>34686.56  </td><td>33570.35  </td><td>32045.13  </td></tr>\n",
       "\t<tr><td>2019-10-05</td><td>30067.95  </td><td>28397.56  </td><td>27663.53  </td><td>26742.70  </td><td>26627.29  </td><td>26813.64  </td><td>26820.16  </td><td>26863.76  </td><td>29837.49  </td><td>...       </td><td>32389.45  </td><td>32195.70  </td><td>32130.78  </td><td>32524.87  </td><td>33770.74  </td><td>34563.17  </td><td>33623.72  </td><td>32606.53  </td><td>31539.20  </td><td>30076.26  </td></tr>\n",
       "\t<tr><td>2019-10-06</td><td>28180.12  </td><td>26751.80  </td><td>25797.09  </td><td>25103.52  </td><td>24775.74  </td><td>24818.77  </td><td>24376.33  </td><td>23460.91  </td><td>23870.75  </td><td>...       </td><td>27151.29  </td><td>27325.10  </td><td>27692.15  </td><td>28650.22  </td><td>30547.06  </td><td>31647.86  </td><td>31254.60  </td><td>30412.83  </td><td>29535.63  </td><td>28161.12  </td></tr>\n",
       "\t<tr><td>2019-10-07</td><td>26630.99  </td><td>25555.75  </td><td>24707.91  </td><td>24322.41  </td><td>24351.37  </td><td>24679.76  </td><td>25396.18  </td><td>27060.81  </td><td>30743.62  </td><td>...       </td><td>34057.70  </td><td>34260.94  </td><td>34985.32  </td><td>35160.25  </td><td>35505.66  </td><td>35578.82  </td><td>34778.89  </td><td>33689.22  </td><td>32715.06  </td><td>31232.77  </td></tr>\n",
       "\t<tr><td>2019-10-08</td><td>29292.17  </td><td>27992.38  </td><td>27164.87  </td><td>26511.43  </td><td>26440.79  </td><td>26795.81  </td><td>27277.71  </td><td>28306.61  </td><td>32086.98  </td><td>...       </td><td>35140.39  </td><td>35104.57  </td><td>35668.98  </td><td>36005.90  </td><td>36365.97  </td><td>36418.03  </td><td>35349.16  </td><td>34230.22  </td><td>33209.52  </td><td>31277.50  </td></tr>\n",
       "\t<tr><td>2019-10-09</td><td>29550.44  </td><td>27993.66  </td><td>27344.17  </td><td>26906.26  </td><td>26744.16  </td><td>27066.71  </td><td>27554.25  </td><td>28481.88  </td><td>32131.33  </td><td>...       </td><td>33739.04  </td><td>34098.15  </td><td>34755.55  </td><td>35469.31  </td><td>36185.12  </td><td>36521.60  </td><td>35571.29  </td><td>34451.61  </td><td>33417.03  </td><td>31765.05  </td></tr>\n",
       "\t<tr><td>2019-10-10</td><td>29703.68  </td><td>28399.36  </td><td>27536.81  </td><td>26941.83  </td><td>26795.06  </td><td>27018.94  </td><td>27601.75  </td><td>28569.12  </td><td>32016.75  </td><td>...       </td><td>33843.48  </td><td>34204.10  </td><td>34975.08  </td><td>35733.23  </td><td>36335.97  </td><td>36325.31  </td><td>35430.47  </td><td>34396.73  </td><td>33248.37  </td><td>31665.86  </td></tr>\n",
       "\t<tr><td>2019-10-11</td><td>29750.39  </td><td>28220.18  </td><td>27350.94  </td><td>26822.04  </td><td>26581.76  </td><td>26929.95  </td><td>27381.78  </td><td>28284.37  </td><td>31974.83  </td><td>...       </td><td>34369.41  </td><td>34738.84  </td><td>35231.95  </td><td>35416.89  </td><td>36105.23  </td><td>35857.17  </td><td>34722.83  </td><td>33754.28  </td><td>32968.33  </td><td>31528.24  </td></tr>\n",
       "\t<tr><td>2019-10-12</td><td>29666.75  </td><td>28252.17  </td><td>27200.17  </td><td>26545.26  </td><td>26293.24  </td><td>26472.32  </td><td>26539.01  </td><td>26642.20  </td><td>29241.01  </td><td>...       </td><td>31110.67  </td><td>31204.82  </td><td>31710.91  </td><td>32660.00  </td><td>34086.11  </td><td>34403.91  </td><td>33641.86  </td><td>32526.09  </td><td>31098.92  </td><td>30040.83  </td></tr>\n",
       "\t<tr><td>2019-10-13</td><td>28135.98  </td><td>26700.96  </td><td>25790.11  </td><td>25046.86  </td><td>24689.08  </td><td>24663.95  </td><td>24428.93  </td><td>23438.48  </td><td>24260.35  </td><td>...       </td><td>26294.14  </td><td>26727.63  </td><td>27618.95  </td><td>29153.99  </td><td>31408.10  </td><td>32130.58  </td><td>31609.95  </td><td>30706.60  </td><td>29813.40  </td><td>28188.58  </td></tr>\n",
       "\t<tr><td>2019-10-14</td><td>26786.74  </td><td>25683.49  </td><td>24733.93  </td><td>24427.52  </td><td>24227.06  </td><td>24602.86  </td><td>25483.87  </td><td>26711.16  </td><td>30778.54  </td><td>...       </td><td>34240.61  </td><td>34559.40  </td><td>35309.25  </td><td>35944.01  </td><td>36380.70  </td><td>36364.51  </td><td>35242.79  </td><td>34071.59  </td><td>33216.82  </td><td>31600.77  </td></tr>\n",
       "\t<tr><td>2019-10-15</td><td>29500.75  </td><td>28294.83  </td><td>27284.99  </td><td>26761.68  </td><td>26565.12  </td><td>26788.65  </td><td>27398.68  </td><td>28476.53  </td><td>32049.11  </td><td>...       </td><td>34378.79  </td><td>34774.39  </td><td>35416.84  </td><td>35942.17  </td><td>36358.77  </td><td>36131.14  </td><td>35121.06  </td><td>34095.66  </td><td>33040.57  </td><td>31322.91  </td></tr>\n",
       "\t<tr><td>2019-10-16</td><td>29367.13  </td><td>28133.90  </td><td>27256.32  </td><td>26582.28  </td><td>26540.53  </td><td>26763.80  </td><td>27418.09  </td><td>28556.74  </td><td>32517.13  </td><td>...       </td><td>35221.71  </td><td>35281.30  </td><td>35776.89  </td><td>35819.27  </td><td>36426.58  </td><td>36113.35  </td><td>35151.25  </td><td>34109.19  </td><td>32999.83  </td><td>31206.60  </td></tr>\n",
       "\t<tr><td>2019-10-17</td><td>29459.28  </td><td>28196.04  </td><td>27158.39  </td><td>26575.25  </td><td>26468.92  </td><td>26825.08  </td><td>27421.29  </td><td>28637.56  </td><td>32436.66  </td><td>...       </td><td>34836.87  </td><td>35218.51  </td><td>35797.84  </td><td>36084.04  </td><td>36469.74  </td><td>36280.94  </td><td>35323.55  </td><td>34220.36  </td><td>33089.91  </td><td>31657.19  </td></tr>\n",
       "\t<tr><td>2019-10-18</td><td>29638.83  </td><td>28341.46  </td><td>27297.28  </td><td>26739.09  </td><td>26613.49  </td><td>27038.05  </td><td>27640.63  </td><td>28686.85  </td><td>32150.72  </td><td>...       </td><td>34222.53  </td><td>34593.96  </td><td>35286.69  </td><td>35890.90  </td><td>36259.68  </td><td>36003.46  </td><td>34857.91  </td><td>33933.34  </td><td>32797.64  </td><td>31393.91  </td></tr>\n",
       "\t<tr><td>2019-10-19</td><td>29640.48  </td><td>28078.58  </td><td>27264.50  </td><td>26554.55  </td><td>26379.81  </td><td>26476.86  </td><td>26433.89  </td><td>26628.16  </td><td>29433.13  </td><td>...       </td><td>32083.18  </td><td>32112.84  </td><td>32626.89  </td><td>32941.16  </td><td>34347.66  </td><td>34202.88  </td><td>33139.86  </td><td>32063.91  </td><td>30998.74  </td><td>29746.88  </td></tr>\n",
       "\t<tr><td>2019-10-20</td><td>27616.14  </td><td>26169.24  </td><td>25056.63  </td><td>24091.72  </td><td>23847.21  </td><td>24031.11  </td><td>23922.88  </td><td>23268.50  </td><td>23490.34  </td><td>...       </td><td>26824.68  </td><td>27090.18  </td><td>27958.46  </td><td>29236.00  </td><td>31298.70  </td><td>31593.76  </td><td>30748.74  </td><td>30154.37  </td><td>29155.56  </td><td>27738.08  </td></tr>\n",
       "\t<tr><td>2019-10-21</td><td>26449.87  </td><td>25268.02  </td><td>24421.16  </td><td>23988.47  </td><td>23923.00  </td><td>24337.52  </td><td>25397.17  </td><td>26946.56  </td><td>31180.84  </td><td>...       </td><td>34034.85  </td><td>34324.30  </td><td>34138.07  </td><td>34872.54  </td><td>37169.89  </td><td>35396.81  </td><td>34587.96  </td><td>33460.70  </td><td>32453.14  </td><td>30849.86  </td></tr>\n",
       "\t<tr><td>2019-10-22</td><td>29195.12  </td><td>27677.44  </td><td>26826.76  </td><td>26426.05  </td><td>26253.14  </td><td>26589.28  </td><td>27333.48  </td><td>28568.17  </td><td>32397.66  </td><td>...       </td><td>34299.05  </td><td>34490.13  </td><td>35018.02  </td><td>35681.22  </td><td>36374.13  </td><td>35747.25  </td><td>34627.06  </td><td>33788.69  </td><td>32574.66  </td><td>31094.45  </td></tr>\n",
       "\t<tr><td>2019-10-23</td><td>29265.74  </td><td>27902.58  </td><td>27211.54  </td><td>26519.88  </td><td>26459.65  </td><td>26724.68  </td><td>27599.95  </td><td>28582.21  </td><td>32034.03  </td><td>...       </td><td>33463.46  </td><td>33754.24  </td><td>34625.56  </td><td>35748.76  </td><td>36481.78  </td><td>35897.97  </td><td>34870.08  </td><td>33660.73  </td><td>32676.78  </td><td>31187.68  </td></tr>\n",
       "\t<tr><td>2019-10-24</td><td>29351.46  </td><td>28195.00  </td><td>27269.71  </td><td>26541.81  </td><td>26287.62  </td><td>26677.16  </td><td>27377.08  </td><td>28670.73  </td><td>32155.51  </td><td>...       </td><td>33343.10  </td><td>33844.99  </td><td>34733.78  </td><td>35940.96  </td><td>36896.34  </td><td>36101.45  </td><td>35323.94  </td><td>34256.95  </td><td>33052.27  </td><td>31544.26  </td></tr>\n",
       "\t<tr><td>2019-10-25</td><td>29563.43  </td><td>28242.90  </td><td>27258.74  </td><td>26739.84  </td><td>26555.35  </td><td>26857.36  </td><td>27783.77  </td><td>28969.45  </td><td>32153.21  </td><td>...       </td><td>33019.99  </td><td>33476.62  </td><td>34304.06  </td><td>35973.89  </td><td>36302.11  </td><td>35698.70  </td><td>34820.93  </td><td>33659.48  </td><td>32696.81  </td><td>30942.64  </td></tr>\n",
       "\t<tr><td>2019-10-26</td><td>29480.57  </td><td>27978.33  </td><td>27276.31  </td><td>26707.26  </td><td>26456.04  </td><td>26579.56  </td><td>26858.98  </td><td>26828.60  </td><td>29610.06  </td><td>...       </td><td>31208.99  </td><td>31179.67  </td><td>31709.40  </td><td>32990.31  </td><td>34661.08  </td><td>34207.35  </td><td>33279.92  </td><td>32309.83  </td><td>31391.48  </td><td>29833.08  </td></tr>\n",
       "\t<tr><td>2019-10-27</td><td>27919.18  </td><td>26739.96  </td><td>25627.61  </td><td>24943.13  </td><td>24630.76  </td><td>24679.05  </td><td>24631.80  </td><td>23696.06  </td><td>23923.17  </td><td>...       </td><td>26125.23  </td><td>26816.28  </td><td>27786.59  </td><td>29270.44  </td><td>31545.76  </td><td>31537.16  </td><td>30808.01  </td><td>30119.70  </td><td>28839.74  </td><td>27770.37  </td></tr>\n",
       "\t<tr><td>2019-10-28</td><td>26173.13  </td><td>24829.47  </td><td>23936.41  </td><td>23606.00  </td><td>23465.03  </td><td>23681.83  </td><td>24500.09  </td><td>25661.66  </td><td>28924.37  </td><td>...       </td><td>30560.42  </td><td>30784.13  </td><td>31417.36  </td><td>32603.58  </td><td>33251.44  </td><td>32818.51  </td><td>31861.80  </td><td>30864.56  </td><td>29650.34  </td><td>28315.54  </td></tr>\n",
       "\t<tr><td>2019-10-29</td><td>26438.40  </td><td>25164.63  </td><td>24281.70  </td><td>23721.12  </td><td>23591.77  </td><td>23689.71  </td><td>24118.11  </td><td>24186.66  </td><td>26266.15  </td><td>...       </td><td>28503.34  </td><td>28726.63  </td><td>29654.71  </td><td>31123.37  </td><td>32634.84  </td><td>32073.46  </td><td>31545.44  </td><td>30666.96  </td><td>29559.34  </td><td>28434.09  </td></tr>\n",
       "\t<tr><td>2019-10-30</td><td>27154.21  </td><td>26157.42  </td><td>25373.88  </td><td>24911.43  </td><td>24836.11  </td><td>25233.76  </td><td>26296.00  </td><td>27575.60  </td><td>31667.27  </td><td>...       </td><td>33050.83  </td><td>33464.69  </td><td>34612.24  </td><td>36082.10  </td><td>36936.24  </td><td>36219.71  </td><td>35136.55  </td><td>34155.15  </td><td>32878.23  </td><td>31456.46  </td></tr>\n",
       "\t<tr><td>2019-10-31</td><td>29331.55  </td><td>28111.63  </td><td>27264.60  </td><td>26644.38  </td><td>26512.81  </td><td>26845.26  </td><td>27760.58  </td><td>28656.62  </td><td>32350.30  </td><td>...       </td><td>33610.56  </td><td>34049.16  </td><td>35164.62  </td><td>36513.48  </td><td>37199.82  </td><td>36104.42  </td><td>35263.31  </td><td>34133.64  </td><td>32865.22  </td><td>31399.91  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>29417.56  </td><td>28133.75  </td><td>27358.60  </td><td>26780.09  </td><td>26511.54  </td><td>27002.74  </td><td>27945.43  </td><td>29120.27  </td><td>32815.46  </td><td>...       </td><td>35732.88  </td><td>35859.75  </td><td>36268.51  </td><td>37011.89  </td><td>37199.91  </td><td>36056.96  </td><td>35130.19  </td><td>33947.64  </td><td>32877.69  </td><td>31590.75  </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|lllllllllllllllllllllllll}\n",
       " Date & 00:00:00 & 01:00:00 & 02:00:00 & 03:00:00 & 04:00:00 & 05:00:00 & 06:00:00 & 07:00:00 & 08:00:00 & ... & 14:00:00 & 15:00:00 & 16:00:00 & 17:00:00 & 18:00:00 & 19:00:00 & 20:00:00 & 21:00:00 & 22:00:00 & 23:00:00\\\\\n",
       "\\hline\n",
       "\t 2016-11-01 & 28032.45   & 26515.65   & 25687.16   & 25152.53   & 24903.70   & 25197.38   & 25965.52   & 27573.40   & 31815.96   & ...        & 35069.03   & 34718.82   & 34934.69   & 35278.73   & 35589.85   & 34449.39   & 33620.31   & 32630.86   & 32148.63   & 30647.12  \\\\\n",
       "\t 2016-11-02 & 28443.75   & 26987.62   & 26131.66   & 25655.50   & 25268.47   & 25752.35   & 26715.97   & 28421.31   & 32653.72   & ...        & 35030.24   & 34664.89   & 34725.83   & 35367.85   & 36114.10   & 35622.12   & 34818.21   & 33833.66   & 33166.59   & 31708.78  \\\\\n",
       "\t 2016-11-03 & 29121.03   & 27665.55   & 26689.57   & 26057.45   & 25730.03   & 26503.83   & 27406.71   & 29047.66   & 33244.35   & ...        & 34569.26   & 34185.81   & 34376.30   & 35192.63   & 36169.75   & 35507.07   & 34678.88   & 33825.89   & 33086.19   & 31618.59  \\\\\n",
       "\t 2016-11-04 & 29024.93   & 27753.29   & 26432.15   & 25943.66   & 25670.40   & 26223.43   & 27552.35   & 29084.00   & 33183.49   & ...        & 35273.14   & 34835.68   & 35034.60   & 35809.91   & 36367.53   & 35389.82   & 34410.85   & 33275.09   & 32793.00   & 31562.25  \\\\\n",
       "\t 2016-11-05 & 29241.68   & 27802.16   & 26585.33   & 26006.92   & 25796.40   & 25947.40   & 26505.31   & 27193.91   & 30401.78   & ...        & 32757.32   & 32139.61   & 31807.34   & 32672.77   & 34061.74   & 33312.47   & 32485.60   & 31782.61   & 31281.05   & 29766.51  \\\\\n",
       "\t 2016-11-06 & 27756.16   & 26152.01   & 24948.29   & 24485.74   & 24102.25   & 24185.83   & 24293.39   & 23736.54   & 24640.05   & ...        & 27480.03   & 27235.76   & 27411.49   & 28926.80   & 31132.40   & 30949.32   & 30522.79   & 29838.59   & 29282.05   & 27671.45  \\\\\n",
       "\t 2016-11-07 & 26041.10   & 24669.75   & 24048.99   & 23347.38   & 23400.79   & 23864.99   & 25530.12   & 27609.98   & 31898.48   & ...        & 34239.96   & 34115.60   & 34938.23   & 35121.84   & 35396.59   & 34380.33   & 33520.54   & 32714.34   & 31847.48   & 30295.86  \\\\\n",
       "\t 2016-11-08 & 28289.42   & 26909.99   & 26033.37   & 25521.27   & 25434.25   & 25747.41   & 26847.36   & 28384.51   & 32425.54   & ...        & 34000.72   & 33612.86   & 33687.50   & 34416.41   & 34830.20   & 33860.74   & 33226.17   & 32292.83   & 31522.61   & 30215.19  \\\\\n",
       "\t 2016-11-09 & 28169.88   & 26842.45   & 26041.27   & 25594.72   & 25431.54   & 25786.26   & 26829.46   & 28338.69   & 31998.44   & ...        & 34084.92   & 33670.62   & 33704.98   & 34574.32   & 34867.00   & 33963.82   & 33048.78   & 32192.10   & 31308.69   & 30088.98  \\\\\n",
       "\t 2016-11-10 & 28043.85   & 26697.08   & 25699.63   & 25320.29   & 25205.27   & 25561.88   & 26627.44   & 28121.14   & 31762.78   & ...        & 34115.60   & 33723.35   & 33741.92   & 34282.73   & 35017.89   & 34194.08   & 33331.31   & 32351.56   & 31895.64   & 30624.21  \\\\\n",
       "\t 2016-11-11 & 28406.63   & 26930.13   & 25798.84   & 25726.06   & 25445.79   & 25802.05   & 26440.88   & 28332.59   & 31842.83   & ...        & 33501.23   & 33231.64   & 33537.67   & 34333.68   & 34605.21   & 33781.16   & 32956.85   & 32216.92   & 31582.88   & 30700.37  \\\\\n",
       "\t 2016-11-12 & 28592.65   & 27126.19   & 26030.55   & 25122.95   & 25264.01   & 25454.93   & 25866.72   & 26869.65   & 29819.21   & ...        & 31899.60   & 31202.62   & 31115.72   & 31812.64   & 32950.41   & 32280.42   & 31594.76   & 30958.15   & 30461.56   & 29013.99  \\\\\n",
       "\t 2016-11-13 & 27417.65   & 25857.95   & 24451.00   & 23926.44   & 23656.88   & 23672.10   & 23745.51   & 23326.12   & 23916.40   & ...        & 27329.71   & 27236.65   & 27533.85   & 28695.32   & 30353.32   & 30175.16   & 29801.85   & 29289.56   & 28861.39   & 27612.14  \\\\\n",
       "\t 2016-11-14 & 25902.55   & 24629.22   & 23576.41   & 23264.37   & 23183.46   & 23634.20   & 24964.14   & 27044.45   & 31641.70   & ...        & 34785.98   & 34500.88   & 34767.50   & 35800.73   & 35780.17   & 34643.68   & 34118.53   & 33091.63   & 32375.75   & 30964.22  \\\\\n",
       "\t 2016-11-15 & 28743.84   & 27342.45   & 26293.71   & 25704.91   & 25611.94   & 26043.47   & 27088.20   & 28903.21   & 33068.16   & ...        & 36075.57   & 35692.81   & 35895.78   & 36652.62   & 36586.33   & 35510.57   & 34571.32   & 33645.50   & 32977.72   & 31540.68  \\\\\n",
       "\t 2016-11-16 & 29114.75   & 27620.91   & 26590.51   & 26133.03   & 26032.88   & 26365.35   & 27446.72   & 29285.02   & 33514.86   & ...        & 36824.00   & 36530.13   & 36730.43   & 37611.70   & 37302.11   & 36210.85   & 35101.71   & 34139.19   & 33420.47   & 31929.50  \\\\\n",
       "\t 2016-11-17 & 29552.15   & 27742.90   & 26739.00   & 26218.27   & 26028.40   & 26424.68   & 27624.23   & 29631.82   & 33764.41   & ...        & 35947.97   & 35629.11   & 36090.10   & 37117.58   & 37428.41   & 36502.75   & 35494.16   & 34493.89   & 33644.77   & 31916.32  \\\\\n",
       "\t 2016-11-18 & 29713.65   & 27784.75   & 26870.65   & 26352.47   & 26123.57   & 26599.72   & 27879.64   & 29970.64   & 34054.11   & ...        & 35166.67   & 35049.93   & 35437.17   & 36549.82   & 36912.34   & 36084.33   & 35349.38   & 34484.27   & 33881.96   & 32549.09  \\\\\n",
       "\t 2016-11-19 & 30219.53   & 28326.28   & 27039.44   & 26374.86   & 26224.27   & 26441.62   & 27120.43   & 27926.03   & 31444.06   & ...        & 33429.45   & 32885.96   & 32792.01   & 33986.31   & 35265.96   & 34572.11   & 33862.89   & 33010.62   & 32517.15   & 30929.11  \\\\\n",
       "\t 2016-11-20 & 28722.00   & 26928.56   & 25584.49   & 24801.01   & 24431.66   & 24454.85   & 24689.39   & 24781.36   & 25579.12   & ...        & 28135.66   & 28090.97   & 28474.08   & 30450.88   & 32281.73   & 32289.65   & 31725.37   & 30961.99   & 30534.52   & 29205.66  \\\\\n",
       "\t 2016-11-21 & 27144.66   & 25562.36   & 24584.52   & 24108.06   & 24049.11   & 24508.04   & 25871.82   & 28272.31   & 32870.13   & ...        & 35797.71   & 35679.17   & 35970.71   & 37315.06   & 37301.55   & 36286.13   & 35539.39   & 34330.38   & 33682.05   & 32146.84  \\\\\n",
       "\t 2016-11-22 & 29641.77   & 27941.44   & 26889.15   & 26275.85   & 26233.38   & 26575.02   & 27819.71   & 29709.93   & 33942.60   & ...        & 35466.40   & 35321.80   & 35888.83   & 37130.00   & 37347.56   & 36302.01   & 35451.37   & 34403.36   & 33772.99   & 32363.44  \\\\\n",
       "\t 2016-11-23 & 29796.84   & 28184.01   & 27222.72   & 26620.37   & 26512.81   & 26887.12   & 28077.93   & 30085.11   & 34078.22   & ...        & 36033.14   & 35751.88   & 36235.28   & 37548.76   & 37714.48   & 36589.42   & 35781.90   & 35049.31   & 34297.88   & 32735.33  \\\\\n",
       "\t 2016-11-24 & 30488.20   & 28583.85   & 27380.81   & 26864.84   & 26464.85   & 27187.72   & 28081.69   & 30286.74   & 34159.36   & ...        & 36162.95   & 35921.16   & 36232.21   & 37817.66   & 37835.70   & 36896.58   & 35947.65   & 35061.47   & 34489.33   & 33174.57  \\\\\n",
       "\t 2016-11-25 & 30732.32   & 28453.74   & 27863.49   & 27258.41   & 27130.40   & 27388.28   & 28733.41   & 30766.13   & 34607.24   & ...        & 35261.42   & 35594.68   & 36176.79   & 37149.05   & 37511.49   & 36304.14   & 35411.25   & 34524.11   & 33941.38   & 32593.41  \\\\\n",
       "\t 2016-11-26 & 30508.74   & 28601.73   & 27398.64   & 26894.86   & 26713.21   & 26848.12   & 27492.19   & 28434.66   & 31449.55   & ...        & 34021.14   & 33506.65   & 33532.78   & 34946.02   & 35784.04   & 34899.40   & 34116.64   & 33445.55   & 32869.18   & 31709.09  \\\\\n",
       "\t 2016-11-27 & 29297.38   & 27414.53   & 25979.42   & 25425.66   & 25309.07   & 25213.82   & 25423.09   & 25423.74   & 25679.98   & ...        & 28900.02   & 28696.09   & 29371.23   & 31322.66   & 32835.11   & 32599.19   & 32050.82   & 31643.50   & 30802.60   & 29874.24  \\\\\n",
       "\t 2016-11-28 & 27493.29   & 25785.28   & 24795.56   & 24268.82   & 24526.83   & 24757.15   & 26105.30   & 28654.25   & 33321.99   & ...        & 37155.18   & 36944.60   & 37592.34   & 38234.19   & 37704.60   & 36541.45   & 35734.00   & 34748.44   & 34020.40   & 32334.37  \\\\\n",
       "\t 2016-11-29 & 30240.42   & 28187.44   & 27153.59   & 26792.41   & 26603.63   & 27114.70   & 28210.69   & 30239.42   & 34252.67   & ...        & 38458.67   & 38329.21   & 38492.99   & 39118.86   & 38058.96   & 36744.92   & 35967.99   & 34863.26   & 34314.44   & 32882.66  \\\\\n",
       "\t 2016-11-30 & 30401.59   & 28500.71   & 27036.79   & 26877.56   & 26810.02   & 27326.48   & 28633.09   & 30829.85   & 34988.47   & ...        & 39455.88   & 39184.74   & 39157.78   & 39455.98   & 38421.22   & 37218.74   & 36340.90   & 35405.65   & 34983.98   & 33492.03  \\\\\n",
       "\t ... & ... & ... & ... & ... & ... & ... & ... & ... & ... &     & ... & ... & ... & ... & ... & ... & ... & ... & ... & ...\\\\\n",
       "\t 2019-10-03 & 30156.18   & 28840.52   & 28012.38   & 27467.55   & 27240.64   & 27491.50   & 27929.70   & 29006.96   & 32548.26   & ...        & 35533.33   & 35717.09   & 36246.95   & 36781.67   & 36866.64   & 37272.52   & 36291.59   & 35018.16   & 33957.18   & 32420.60  \\\\\n",
       "\t 2019-10-04 & 30464.48   & 29166.60   & 28059.80   & 27541.97   & 27356.75   & 27731.29   & 28173.00   & 29037.37   & 32608.56   & ...        & 35353.24   & 35589.36   & 36243.35   & 36459.43   & 36699.52   & 36873.23   & 35597.62   & 34686.56   & 33570.35   & 32045.13  \\\\\n",
       "\t 2019-10-05 & 30067.95   & 28397.56   & 27663.53   & 26742.70   & 26627.29   & 26813.64   & 26820.16   & 26863.76   & 29837.49   & ...        & 32389.45   & 32195.70   & 32130.78   & 32524.87   & 33770.74   & 34563.17   & 33623.72   & 32606.53   & 31539.20   & 30076.26  \\\\\n",
       "\t 2019-10-06 & 28180.12   & 26751.80   & 25797.09   & 25103.52   & 24775.74   & 24818.77   & 24376.33   & 23460.91   & 23870.75   & ...        & 27151.29   & 27325.10   & 27692.15   & 28650.22   & 30547.06   & 31647.86   & 31254.60   & 30412.83   & 29535.63   & 28161.12  \\\\\n",
       "\t 2019-10-07 & 26630.99   & 25555.75   & 24707.91   & 24322.41   & 24351.37   & 24679.76   & 25396.18   & 27060.81   & 30743.62   & ...        & 34057.70   & 34260.94   & 34985.32   & 35160.25   & 35505.66   & 35578.82   & 34778.89   & 33689.22   & 32715.06   & 31232.77  \\\\\n",
       "\t 2019-10-08 & 29292.17   & 27992.38   & 27164.87   & 26511.43   & 26440.79   & 26795.81   & 27277.71   & 28306.61   & 32086.98   & ...        & 35140.39   & 35104.57   & 35668.98   & 36005.90   & 36365.97   & 36418.03   & 35349.16   & 34230.22   & 33209.52   & 31277.50  \\\\\n",
       "\t 2019-10-09 & 29550.44   & 27993.66   & 27344.17   & 26906.26   & 26744.16   & 27066.71   & 27554.25   & 28481.88   & 32131.33   & ...        & 33739.04   & 34098.15   & 34755.55   & 35469.31   & 36185.12   & 36521.60   & 35571.29   & 34451.61   & 33417.03   & 31765.05  \\\\\n",
       "\t 2019-10-10 & 29703.68   & 28399.36   & 27536.81   & 26941.83   & 26795.06   & 27018.94   & 27601.75   & 28569.12   & 32016.75   & ...        & 33843.48   & 34204.10   & 34975.08   & 35733.23   & 36335.97   & 36325.31   & 35430.47   & 34396.73   & 33248.37   & 31665.86  \\\\\n",
       "\t 2019-10-11 & 29750.39   & 28220.18   & 27350.94   & 26822.04   & 26581.76   & 26929.95   & 27381.78   & 28284.37   & 31974.83   & ...        & 34369.41   & 34738.84   & 35231.95   & 35416.89   & 36105.23   & 35857.17   & 34722.83   & 33754.28   & 32968.33   & 31528.24  \\\\\n",
       "\t 2019-10-12 & 29666.75   & 28252.17   & 27200.17   & 26545.26   & 26293.24   & 26472.32   & 26539.01   & 26642.20   & 29241.01   & ...        & 31110.67   & 31204.82   & 31710.91   & 32660.00   & 34086.11   & 34403.91   & 33641.86   & 32526.09   & 31098.92   & 30040.83  \\\\\n",
       "\t 2019-10-13 & 28135.98   & 26700.96   & 25790.11   & 25046.86   & 24689.08   & 24663.95   & 24428.93   & 23438.48   & 24260.35   & ...        & 26294.14   & 26727.63   & 27618.95   & 29153.99   & 31408.10   & 32130.58   & 31609.95   & 30706.60   & 29813.40   & 28188.58  \\\\\n",
       "\t 2019-10-14 & 26786.74   & 25683.49   & 24733.93   & 24427.52   & 24227.06   & 24602.86   & 25483.87   & 26711.16   & 30778.54   & ...        & 34240.61   & 34559.40   & 35309.25   & 35944.01   & 36380.70   & 36364.51   & 35242.79   & 34071.59   & 33216.82   & 31600.77  \\\\\n",
       "\t 2019-10-15 & 29500.75   & 28294.83   & 27284.99   & 26761.68   & 26565.12   & 26788.65   & 27398.68   & 28476.53   & 32049.11   & ...        & 34378.79   & 34774.39   & 35416.84   & 35942.17   & 36358.77   & 36131.14   & 35121.06   & 34095.66   & 33040.57   & 31322.91  \\\\\n",
       "\t 2019-10-16 & 29367.13   & 28133.90   & 27256.32   & 26582.28   & 26540.53   & 26763.80   & 27418.09   & 28556.74   & 32517.13   & ...        & 35221.71   & 35281.30   & 35776.89   & 35819.27   & 36426.58   & 36113.35   & 35151.25   & 34109.19   & 32999.83   & 31206.60  \\\\\n",
       "\t 2019-10-17 & 29459.28   & 28196.04   & 27158.39   & 26575.25   & 26468.92   & 26825.08   & 27421.29   & 28637.56   & 32436.66   & ...        & 34836.87   & 35218.51   & 35797.84   & 36084.04   & 36469.74   & 36280.94   & 35323.55   & 34220.36   & 33089.91   & 31657.19  \\\\\n",
       "\t 2019-10-18 & 29638.83   & 28341.46   & 27297.28   & 26739.09   & 26613.49   & 27038.05   & 27640.63   & 28686.85   & 32150.72   & ...        & 34222.53   & 34593.96   & 35286.69   & 35890.90   & 36259.68   & 36003.46   & 34857.91   & 33933.34   & 32797.64   & 31393.91  \\\\\n",
       "\t 2019-10-19 & 29640.48   & 28078.58   & 27264.50   & 26554.55   & 26379.81   & 26476.86   & 26433.89   & 26628.16   & 29433.13   & ...        & 32083.18   & 32112.84   & 32626.89   & 32941.16   & 34347.66   & 34202.88   & 33139.86   & 32063.91   & 30998.74   & 29746.88  \\\\\n",
       "\t 2019-10-20 & 27616.14   & 26169.24   & 25056.63   & 24091.72   & 23847.21   & 24031.11   & 23922.88   & 23268.50   & 23490.34   & ...        & 26824.68   & 27090.18   & 27958.46   & 29236.00   & 31298.70   & 31593.76   & 30748.74   & 30154.37   & 29155.56   & 27738.08  \\\\\n",
       "\t 2019-10-21 & 26449.87   & 25268.02   & 24421.16   & 23988.47   & 23923.00   & 24337.52   & 25397.17   & 26946.56   & 31180.84   & ...        & 34034.85   & 34324.30   & 34138.07   & 34872.54   & 37169.89   & 35396.81   & 34587.96   & 33460.70   & 32453.14   & 30849.86  \\\\\n",
       "\t 2019-10-22 & 29195.12   & 27677.44   & 26826.76   & 26426.05   & 26253.14   & 26589.28   & 27333.48   & 28568.17   & 32397.66   & ...        & 34299.05   & 34490.13   & 35018.02   & 35681.22   & 36374.13   & 35747.25   & 34627.06   & 33788.69   & 32574.66   & 31094.45  \\\\\n",
       "\t 2019-10-23 & 29265.74   & 27902.58   & 27211.54   & 26519.88   & 26459.65   & 26724.68   & 27599.95   & 28582.21   & 32034.03   & ...        & 33463.46   & 33754.24   & 34625.56   & 35748.76   & 36481.78   & 35897.97   & 34870.08   & 33660.73   & 32676.78   & 31187.68  \\\\\n",
       "\t 2019-10-24 & 29351.46   & 28195.00   & 27269.71   & 26541.81   & 26287.62   & 26677.16   & 27377.08   & 28670.73   & 32155.51   & ...        & 33343.10   & 33844.99   & 34733.78   & 35940.96   & 36896.34   & 36101.45   & 35323.94   & 34256.95   & 33052.27   & 31544.26  \\\\\n",
       "\t 2019-10-25 & 29563.43   & 28242.90   & 27258.74   & 26739.84   & 26555.35   & 26857.36   & 27783.77   & 28969.45   & 32153.21   & ...        & 33019.99   & 33476.62   & 34304.06   & 35973.89   & 36302.11   & 35698.70   & 34820.93   & 33659.48   & 32696.81   & 30942.64  \\\\\n",
       "\t 2019-10-26 & 29480.57   & 27978.33   & 27276.31   & 26707.26   & 26456.04   & 26579.56   & 26858.98   & 26828.60   & 29610.06   & ...        & 31208.99   & 31179.67   & 31709.40   & 32990.31   & 34661.08   & 34207.35   & 33279.92   & 32309.83   & 31391.48   & 29833.08  \\\\\n",
       "\t 2019-10-27 & 27919.18   & 26739.96   & 25627.61   & 24943.13   & 24630.76   & 24679.05   & 24631.80   & 23696.06   & 23923.17   & ...        & 26125.23   & 26816.28   & 27786.59   & 29270.44   & 31545.76   & 31537.16   & 30808.01   & 30119.70   & 28839.74   & 27770.37  \\\\\n",
       "\t 2019-10-28 & 26173.13   & 24829.47   & 23936.41   & 23606.00   & 23465.03   & 23681.83   & 24500.09   & 25661.66   & 28924.37   & ...        & 30560.42   & 30784.13   & 31417.36   & 32603.58   & 33251.44   & 32818.51   & 31861.80   & 30864.56   & 29650.34   & 28315.54  \\\\\n",
       "\t 2019-10-29 & 26438.40   & 25164.63   & 24281.70   & 23721.12   & 23591.77   & 23689.71   & 24118.11   & 24186.66   & 26266.15   & ...        & 28503.34   & 28726.63   & 29654.71   & 31123.37   & 32634.84   & 32073.46   & 31545.44   & 30666.96   & 29559.34   & 28434.09  \\\\\n",
       "\t 2019-10-30 & 27154.21   & 26157.42   & 25373.88   & 24911.43   & 24836.11   & 25233.76   & 26296.00   & 27575.60   & 31667.27   & ...        & 33050.83   & 33464.69   & 34612.24   & 36082.10   & 36936.24   & 36219.71   & 35136.55   & 34155.15   & 32878.23   & 31456.46  \\\\\n",
       "\t 2019-10-31 & 29331.55   & 28111.63   & 27264.60   & 26644.38   & 26512.81   & 26845.26   & 27760.58   & 28656.62   & 32350.30   & ...        & 33610.56   & 34049.16   & 35164.62   & 36513.48   & 37199.82   & 36104.42   & 35263.31   & 34133.64   & 32865.22   & 31399.91  \\\\\n",
       "\t 2019-11-01 & 29417.56   & 28133.75   & 27358.60   & 26780.09   & 26511.54   & 27002.74   & 27945.43   & 29120.27   & 32815.46   & ...        & 35732.88   & 35859.75   & 36268.51   & 37011.89   & 37199.91   & 36056.96   & 35130.19   & 33947.64   & 32877.69   & 31590.75  \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| Date | 00:00:00 | 01:00:00 | 02:00:00 | 03:00:00 | 04:00:00 | 05:00:00 | 06:00:00 | 07:00:00 | 08:00:00 | ... | 14:00:00 | 15:00:00 | 16:00:00 | 17:00:00 | 18:00:00 | 19:00:00 | 20:00:00 | 21:00:00 | 22:00:00 | 23:00:00 |\n",
       "|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|---|\n",
       "| 2016-11-01 | 28032.45   | 26515.65   | 25687.16   | 25152.53   | 24903.70   | 25197.38   | 25965.52   | 27573.40   | 31815.96   | ...        | 35069.03   | 34718.82   | 34934.69   | 35278.73   | 35589.85   | 34449.39   | 33620.31   | 32630.86   | 32148.63   | 30647.12   |\n",
       "| 2016-11-02 | 28443.75   | 26987.62   | 26131.66   | 25655.50   | 25268.47   | 25752.35   | 26715.97   | 28421.31   | 32653.72   | ...        | 35030.24   | 34664.89   | 34725.83   | 35367.85   | 36114.10   | 35622.12   | 34818.21   | 33833.66   | 33166.59   | 31708.78   |\n",
       "| 2016-11-03 | 29121.03   | 27665.55   | 26689.57   | 26057.45   | 25730.03   | 26503.83   | 27406.71   | 29047.66   | 33244.35   | ...        | 34569.26   | 34185.81   | 34376.30   | 35192.63   | 36169.75   | 35507.07   | 34678.88   | 33825.89   | 33086.19   | 31618.59   |\n",
       "| 2016-11-04 | 29024.93   | 27753.29   | 26432.15   | 25943.66   | 25670.40   | 26223.43   | 27552.35   | 29084.00   | 33183.49   | ...        | 35273.14   | 34835.68   | 35034.60   | 35809.91   | 36367.53   | 35389.82   | 34410.85   | 33275.09   | 32793.00   | 31562.25   |\n",
       "| 2016-11-05 | 29241.68   | 27802.16   | 26585.33   | 26006.92   | 25796.40   | 25947.40   | 26505.31   | 27193.91   | 30401.78   | ...        | 32757.32   | 32139.61   | 31807.34   | 32672.77   | 34061.74   | 33312.47   | 32485.60   | 31782.61   | 31281.05   | 29766.51   |\n",
       "| 2016-11-06 | 27756.16   | 26152.01   | 24948.29   | 24485.74   | 24102.25   | 24185.83   | 24293.39   | 23736.54   | 24640.05   | ...        | 27480.03   | 27235.76   | 27411.49   | 28926.80   | 31132.40   | 30949.32   | 30522.79   | 29838.59   | 29282.05   | 27671.45   |\n",
       "| 2016-11-07 | 26041.10   | 24669.75   | 24048.99   | 23347.38   | 23400.79   | 23864.99   | 25530.12   | 27609.98   | 31898.48   | ...        | 34239.96   | 34115.60   | 34938.23   | 35121.84   | 35396.59   | 34380.33   | 33520.54   | 32714.34   | 31847.48   | 30295.86   |\n",
       "| 2016-11-08 | 28289.42   | 26909.99   | 26033.37   | 25521.27   | 25434.25   | 25747.41   | 26847.36   | 28384.51   | 32425.54   | ...        | 34000.72   | 33612.86   | 33687.50   | 34416.41   | 34830.20   | 33860.74   | 33226.17   | 32292.83   | 31522.61   | 30215.19   |\n",
       "| 2016-11-09 | 28169.88   | 26842.45   | 26041.27   | 25594.72   | 25431.54   | 25786.26   | 26829.46   | 28338.69   | 31998.44   | ...        | 34084.92   | 33670.62   | 33704.98   | 34574.32   | 34867.00   | 33963.82   | 33048.78   | 32192.10   | 31308.69   | 30088.98   |\n",
       "| 2016-11-10 | 28043.85   | 26697.08   | 25699.63   | 25320.29   | 25205.27   | 25561.88   | 26627.44   | 28121.14   | 31762.78   | ...        | 34115.60   | 33723.35   | 33741.92   | 34282.73   | 35017.89   | 34194.08   | 33331.31   | 32351.56   | 31895.64   | 30624.21   |\n",
       "| 2016-11-11 | 28406.63   | 26930.13   | 25798.84   | 25726.06   | 25445.79   | 25802.05   | 26440.88   | 28332.59   | 31842.83   | ...        | 33501.23   | 33231.64   | 33537.67   | 34333.68   | 34605.21   | 33781.16   | 32956.85   | 32216.92   | 31582.88   | 30700.37   |\n",
       "| 2016-11-12 | 28592.65   | 27126.19   | 26030.55   | 25122.95   | 25264.01   | 25454.93   | 25866.72   | 26869.65   | 29819.21   | ...        | 31899.60   | 31202.62   | 31115.72   | 31812.64   | 32950.41   | 32280.42   | 31594.76   | 30958.15   | 30461.56   | 29013.99   |\n",
       "| 2016-11-13 | 27417.65   | 25857.95   | 24451.00   | 23926.44   | 23656.88   | 23672.10   | 23745.51   | 23326.12   | 23916.40   | ...        | 27329.71   | 27236.65   | 27533.85   | 28695.32   | 30353.32   | 30175.16   | 29801.85   | 29289.56   | 28861.39   | 27612.14   |\n",
       "| 2016-11-14 | 25902.55   | 24629.22   | 23576.41   | 23264.37   | 23183.46   | 23634.20   | 24964.14   | 27044.45   | 31641.70   | ...        | 34785.98   | 34500.88   | 34767.50   | 35800.73   | 35780.17   | 34643.68   | 34118.53   | 33091.63   | 32375.75   | 30964.22   |\n",
       "| 2016-11-15 | 28743.84   | 27342.45   | 26293.71   | 25704.91   | 25611.94   | 26043.47   | 27088.20   | 28903.21   | 33068.16   | ...        | 36075.57   | 35692.81   | 35895.78   | 36652.62   | 36586.33   | 35510.57   | 34571.32   | 33645.50   | 32977.72   | 31540.68   |\n",
       "| 2016-11-16 | 29114.75   | 27620.91   | 26590.51   | 26133.03   | 26032.88   | 26365.35   | 27446.72   | 29285.02   | 33514.86   | ...        | 36824.00   | 36530.13   | 36730.43   | 37611.70   | 37302.11   | 36210.85   | 35101.71   | 34139.19   | 33420.47   | 31929.50   |\n",
       "| 2016-11-17 | 29552.15   | 27742.90   | 26739.00   | 26218.27   | 26028.40   | 26424.68   | 27624.23   | 29631.82   | 33764.41   | ...        | 35947.97   | 35629.11   | 36090.10   | 37117.58   | 37428.41   | 36502.75   | 35494.16   | 34493.89   | 33644.77   | 31916.32   |\n",
       "| 2016-11-18 | 29713.65   | 27784.75   | 26870.65   | 26352.47   | 26123.57   | 26599.72   | 27879.64   | 29970.64   | 34054.11   | ...        | 35166.67   | 35049.93   | 35437.17   | 36549.82   | 36912.34   | 36084.33   | 35349.38   | 34484.27   | 33881.96   | 32549.09   |\n",
       "| 2016-11-19 | 30219.53   | 28326.28   | 27039.44   | 26374.86   | 26224.27   | 26441.62   | 27120.43   | 27926.03   | 31444.06   | ...        | 33429.45   | 32885.96   | 32792.01   | 33986.31   | 35265.96   | 34572.11   | 33862.89   | 33010.62   | 32517.15   | 30929.11   |\n",
       "| 2016-11-20 | 28722.00   | 26928.56   | 25584.49   | 24801.01   | 24431.66   | 24454.85   | 24689.39   | 24781.36   | 25579.12   | ...        | 28135.66   | 28090.97   | 28474.08   | 30450.88   | 32281.73   | 32289.65   | 31725.37   | 30961.99   | 30534.52   | 29205.66   |\n",
       "| 2016-11-21 | 27144.66   | 25562.36   | 24584.52   | 24108.06   | 24049.11   | 24508.04   | 25871.82   | 28272.31   | 32870.13   | ...        | 35797.71   | 35679.17   | 35970.71   | 37315.06   | 37301.55   | 36286.13   | 35539.39   | 34330.38   | 33682.05   | 32146.84   |\n",
       "| 2016-11-22 | 29641.77   | 27941.44   | 26889.15   | 26275.85   | 26233.38   | 26575.02   | 27819.71   | 29709.93   | 33942.60   | ...        | 35466.40   | 35321.80   | 35888.83   | 37130.00   | 37347.56   | 36302.01   | 35451.37   | 34403.36   | 33772.99   | 32363.44   |\n",
       "| 2016-11-23 | 29796.84   | 28184.01   | 27222.72   | 26620.37   | 26512.81   | 26887.12   | 28077.93   | 30085.11   | 34078.22   | ...        | 36033.14   | 35751.88   | 36235.28   | 37548.76   | 37714.48   | 36589.42   | 35781.90   | 35049.31   | 34297.88   | 32735.33   |\n",
       "| 2016-11-24 | 30488.20   | 28583.85   | 27380.81   | 26864.84   | 26464.85   | 27187.72   | 28081.69   | 30286.74   | 34159.36   | ...        | 36162.95   | 35921.16   | 36232.21   | 37817.66   | 37835.70   | 36896.58   | 35947.65   | 35061.47   | 34489.33   | 33174.57   |\n",
       "| 2016-11-25 | 30732.32   | 28453.74   | 27863.49   | 27258.41   | 27130.40   | 27388.28   | 28733.41   | 30766.13   | 34607.24   | ...        | 35261.42   | 35594.68   | 36176.79   | 37149.05   | 37511.49   | 36304.14   | 35411.25   | 34524.11   | 33941.38   | 32593.41   |\n",
       "| 2016-11-26 | 30508.74   | 28601.73   | 27398.64   | 26894.86   | 26713.21   | 26848.12   | 27492.19   | 28434.66   | 31449.55   | ...        | 34021.14   | 33506.65   | 33532.78   | 34946.02   | 35784.04   | 34899.40   | 34116.64   | 33445.55   | 32869.18   | 31709.09   |\n",
       "| 2016-11-27 | 29297.38   | 27414.53   | 25979.42   | 25425.66   | 25309.07   | 25213.82   | 25423.09   | 25423.74   | 25679.98   | ...        | 28900.02   | 28696.09   | 29371.23   | 31322.66   | 32835.11   | 32599.19   | 32050.82   | 31643.50   | 30802.60   | 29874.24   |\n",
       "| 2016-11-28 | 27493.29   | 25785.28   | 24795.56   | 24268.82   | 24526.83   | 24757.15   | 26105.30   | 28654.25   | 33321.99   | ...        | 37155.18   | 36944.60   | 37592.34   | 38234.19   | 37704.60   | 36541.45   | 35734.00   | 34748.44   | 34020.40   | 32334.37   |\n",
       "| 2016-11-29 | 30240.42   | 28187.44   | 27153.59   | 26792.41   | 26603.63   | 27114.70   | 28210.69   | 30239.42   | 34252.67   | ...        | 38458.67   | 38329.21   | 38492.99   | 39118.86   | 38058.96   | 36744.92   | 35967.99   | 34863.26   | 34314.44   | 32882.66   |\n",
       "| 2016-11-30 | 30401.59   | 28500.71   | 27036.79   | 26877.56   | 26810.02   | 27326.48   | 28633.09   | 30829.85   | 34988.47   | ...        | 39455.88   | 39184.74   | 39157.78   | 39455.98   | 38421.22   | 37218.74   | 36340.90   | 35405.65   | 34983.98   | 33492.03   |\n",
       "| ... | ... | ... | ... | ... | ... | ... | ... | ... | ... |     | ... | ... | ... | ... | ... | ... | ... | ... | ... | ... |\n",
       "| 2019-10-03 | 30156.18   | 28840.52   | 28012.38   | 27467.55   | 27240.64   | 27491.50   | 27929.70   | 29006.96   | 32548.26   | ...        | 35533.33   | 35717.09   | 36246.95   | 36781.67   | 36866.64   | 37272.52   | 36291.59   | 35018.16   | 33957.18   | 32420.60   |\n",
       "| 2019-10-04 | 30464.48   | 29166.60   | 28059.80   | 27541.97   | 27356.75   | 27731.29   | 28173.00   | 29037.37   | 32608.56   | ...        | 35353.24   | 35589.36   | 36243.35   | 36459.43   | 36699.52   | 36873.23   | 35597.62   | 34686.56   | 33570.35   | 32045.13   |\n",
       "| 2019-10-05 | 30067.95   | 28397.56   | 27663.53   | 26742.70   | 26627.29   | 26813.64   | 26820.16   | 26863.76   | 29837.49   | ...        | 32389.45   | 32195.70   | 32130.78   | 32524.87   | 33770.74   | 34563.17   | 33623.72   | 32606.53   | 31539.20   | 30076.26   |\n",
       "| 2019-10-06 | 28180.12   | 26751.80   | 25797.09   | 25103.52   | 24775.74   | 24818.77   | 24376.33   | 23460.91   | 23870.75   | ...        | 27151.29   | 27325.10   | 27692.15   | 28650.22   | 30547.06   | 31647.86   | 31254.60   | 30412.83   | 29535.63   | 28161.12   |\n",
       "| 2019-10-07 | 26630.99   | 25555.75   | 24707.91   | 24322.41   | 24351.37   | 24679.76   | 25396.18   | 27060.81   | 30743.62   | ...        | 34057.70   | 34260.94   | 34985.32   | 35160.25   | 35505.66   | 35578.82   | 34778.89   | 33689.22   | 32715.06   | 31232.77   |\n",
       "| 2019-10-08 | 29292.17   | 27992.38   | 27164.87   | 26511.43   | 26440.79   | 26795.81   | 27277.71   | 28306.61   | 32086.98   | ...        | 35140.39   | 35104.57   | 35668.98   | 36005.90   | 36365.97   | 36418.03   | 35349.16   | 34230.22   | 33209.52   | 31277.50   |\n",
       "| 2019-10-09 | 29550.44   | 27993.66   | 27344.17   | 26906.26   | 26744.16   | 27066.71   | 27554.25   | 28481.88   | 32131.33   | ...        | 33739.04   | 34098.15   | 34755.55   | 35469.31   | 36185.12   | 36521.60   | 35571.29   | 34451.61   | 33417.03   | 31765.05   |\n",
       "| 2019-10-10 | 29703.68   | 28399.36   | 27536.81   | 26941.83   | 26795.06   | 27018.94   | 27601.75   | 28569.12   | 32016.75   | ...        | 33843.48   | 34204.10   | 34975.08   | 35733.23   | 36335.97   | 36325.31   | 35430.47   | 34396.73   | 33248.37   | 31665.86   |\n",
       "| 2019-10-11 | 29750.39   | 28220.18   | 27350.94   | 26822.04   | 26581.76   | 26929.95   | 27381.78   | 28284.37   | 31974.83   | ...        | 34369.41   | 34738.84   | 35231.95   | 35416.89   | 36105.23   | 35857.17   | 34722.83   | 33754.28   | 32968.33   | 31528.24   |\n",
       "| 2019-10-12 | 29666.75   | 28252.17   | 27200.17   | 26545.26   | 26293.24   | 26472.32   | 26539.01   | 26642.20   | 29241.01   | ...        | 31110.67   | 31204.82   | 31710.91   | 32660.00   | 34086.11   | 34403.91   | 33641.86   | 32526.09   | 31098.92   | 30040.83   |\n",
       "| 2019-10-13 | 28135.98   | 26700.96   | 25790.11   | 25046.86   | 24689.08   | 24663.95   | 24428.93   | 23438.48   | 24260.35   | ...        | 26294.14   | 26727.63   | 27618.95   | 29153.99   | 31408.10   | 32130.58   | 31609.95   | 30706.60   | 29813.40   | 28188.58   |\n",
       "| 2019-10-14 | 26786.74   | 25683.49   | 24733.93   | 24427.52   | 24227.06   | 24602.86   | 25483.87   | 26711.16   | 30778.54   | ...        | 34240.61   | 34559.40   | 35309.25   | 35944.01   | 36380.70   | 36364.51   | 35242.79   | 34071.59   | 33216.82   | 31600.77   |\n",
       "| 2019-10-15 | 29500.75   | 28294.83   | 27284.99   | 26761.68   | 26565.12   | 26788.65   | 27398.68   | 28476.53   | 32049.11   | ...        | 34378.79   | 34774.39   | 35416.84   | 35942.17   | 36358.77   | 36131.14   | 35121.06   | 34095.66   | 33040.57   | 31322.91   |\n",
       "| 2019-10-16 | 29367.13   | 28133.90   | 27256.32   | 26582.28   | 26540.53   | 26763.80   | 27418.09   | 28556.74   | 32517.13   | ...        | 35221.71   | 35281.30   | 35776.89   | 35819.27   | 36426.58   | 36113.35   | 35151.25   | 34109.19   | 32999.83   | 31206.60   |\n",
       "| 2019-10-17 | 29459.28   | 28196.04   | 27158.39   | 26575.25   | 26468.92   | 26825.08   | 27421.29   | 28637.56   | 32436.66   | ...        | 34836.87   | 35218.51   | 35797.84   | 36084.04   | 36469.74   | 36280.94   | 35323.55   | 34220.36   | 33089.91   | 31657.19   |\n",
       "| 2019-10-18 | 29638.83   | 28341.46   | 27297.28   | 26739.09   | 26613.49   | 27038.05   | 27640.63   | 28686.85   | 32150.72   | ...        | 34222.53   | 34593.96   | 35286.69   | 35890.90   | 36259.68   | 36003.46   | 34857.91   | 33933.34   | 32797.64   | 31393.91   |\n",
       "| 2019-10-19 | 29640.48   | 28078.58   | 27264.50   | 26554.55   | 26379.81   | 26476.86   | 26433.89   | 26628.16   | 29433.13   | ...        | 32083.18   | 32112.84   | 32626.89   | 32941.16   | 34347.66   | 34202.88   | 33139.86   | 32063.91   | 30998.74   | 29746.88   |\n",
       "| 2019-10-20 | 27616.14   | 26169.24   | 25056.63   | 24091.72   | 23847.21   | 24031.11   | 23922.88   | 23268.50   | 23490.34   | ...        | 26824.68   | 27090.18   | 27958.46   | 29236.00   | 31298.70   | 31593.76   | 30748.74   | 30154.37   | 29155.56   | 27738.08   |\n",
       "| 2019-10-21 | 26449.87   | 25268.02   | 24421.16   | 23988.47   | 23923.00   | 24337.52   | 25397.17   | 26946.56   | 31180.84   | ...        | 34034.85   | 34324.30   | 34138.07   | 34872.54   | 37169.89   | 35396.81   | 34587.96   | 33460.70   | 32453.14   | 30849.86   |\n",
       "| 2019-10-22 | 29195.12   | 27677.44   | 26826.76   | 26426.05   | 26253.14   | 26589.28   | 27333.48   | 28568.17   | 32397.66   | ...        | 34299.05   | 34490.13   | 35018.02   | 35681.22   | 36374.13   | 35747.25   | 34627.06   | 33788.69   | 32574.66   | 31094.45   |\n",
       "| 2019-10-23 | 29265.74   | 27902.58   | 27211.54   | 26519.88   | 26459.65   | 26724.68   | 27599.95   | 28582.21   | 32034.03   | ...        | 33463.46   | 33754.24   | 34625.56   | 35748.76   | 36481.78   | 35897.97   | 34870.08   | 33660.73   | 32676.78   | 31187.68   |\n",
       "| 2019-10-24 | 29351.46   | 28195.00   | 27269.71   | 26541.81   | 26287.62   | 26677.16   | 27377.08   | 28670.73   | 32155.51   | ...        | 33343.10   | 33844.99   | 34733.78   | 35940.96   | 36896.34   | 36101.45   | 35323.94   | 34256.95   | 33052.27   | 31544.26   |\n",
       "| 2019-10-25 | 29563.43   | 28242.90   | 27258.74   | 26739.84   | 26555.35   | 26857.36   | 27783.77   | 28969.45   | 32153.21   | ...        | 33019.99   | 33476.62   | 34304.06   | 35973.89   | 36302.11   | 35698.70   | 34820.93   | 33659.48   | 32696.81   | 30942.64   |\n",
       "| 2019-10-26 | 29480.57   | 27978.33   | 27276.31   | 26707.26   | 26456.04   | 26579.56   | 26858.98   | 26828.60   | 29610.06   | ...        | 31208.99   | 31179.67   | 31709.40   | 32990.31   | 34661.08   | 34207.35   | 33279.92   | 32309.83   | 31391.48   | 29833.08   |\n",
       "| 2019-10-27 | 27919.18   | 26739.96   | 25627.61   | 24943.13   | 24630.76   | 24679.05   | 24631.80   | 23696.06   | 23923.17   | ...        | 26125.23   | 26816.28   | 27786.59   | 29270.44   | 31545.76   | 31537.16   | 30808.01   | 30119.70   | 28839.74   | 27770.37   |\n",
       "| 2019-10-28 | 26173.13   | 24829.47   | 23936.41   | 23606.00   | 23465.03   | 23681.83   | 24500.09   | 25661.66   | 28924.37   | ...        | 30560.42   | 30784.13   | 31417.36   | 32603.58   | 33251.44   | 32818.51   | 31861.80   | 30864.56   | 29650.34   | 28315.54   |\n",
       "| 2019-10-29 | 26438.40   | 25164.63   | 24281.70   | 23721.12   | 23591.77   | 23689.71   | 24118.11   | 24186.66   | 26266.15   | ...        | 28503.34   | 28726.63   | 29654.71   | 31123.37   | 32634.84   | 32073.46   | 31545.44   | 30666.96   | 29559.34   | 28434.09   |\n",
       "| 2019-10-30 | 27154.21   | 26157.42   | 25373.88   | 24911.43   | 24836.11   | 25233.76   | 26296.00   | 27575.60   | 31667.27   | ...        | 33050.83   | 33464.69   | 34612.24   | 36082.10   | 36936.24   | 36219.71   | 35136.55   | 34155.15   | 32878.23   | 31456.46   |\n",
       "| 2019-10-31 | 29331.55   | 28111.63   | 27264.60   | 26644.38   | 26512.81   | 26845.26   | 27760.58   | 28656.62   | 32350.30   | ...        | 33610.56   | 34049.16   | 35164.62   | 36513.48   | 37199.82   | 36104.42   | 35263.31   | 34133.64   | 32865.22   | 31399.91   |\n",
       "| 2019-11-01 | 29417.56   | 28133.75   | 27358.60   | 26780.09   | 26511.54   | 27002.74   | 27945.43   | 29120.27   | 32815.46   | ...        | 35732.88   | 35859.75   | 36268.51   | 37011.89   | 37199.91   | 36056.96   | 35130.19   | 33947.64   | 32877.69   | 31590.75   |\n",
       "\n"
      ],
      "text/plain": [
       "     Date       00:00:00 01:00:00 02:00:00 03:00:00 04:00:00 05:00:00 06:00:00\n",
       "1    2016-11-01 28032.45 26515.65 25687.16 25152.53 24903.70 25197.38 25965.52\n",
       "2    2016-11-02 28443.75 26987.62 26131.66 25655.50 25268.47 25752.35 26715.97\n",
       "3    2016-11-03 29121.03 27665.55 26689.57 26057.45 25730.03 26503.83 27406.71\n",
       "4    2016-11-04 29024.93 27753.29 26432.15 25943.66 25670.40 26223.43 27552.35\n",
       "5    2016-11-05 29241.68 27802.16 26585.33 26006.92 25796.40 25947.40 26505.31\n",
       "6    2016-11-06 27756.16 26152.01 24948.29 24485.74 24102.25 24185.83 24293.39\n",
       "7    2016-11-07 26041.10 24669.75 24048.99 23347.38 23400.79 23864.99 25530.12\n",
       "8    2016-11-08 28289.42 26909.99 26033.37 25521.27 25434.25 25747.41 26847.36\n",
       "9    2016-11-09 28169.88 26842.45 26041.27 25594.72 25431.54 25786.26 26829.46\n",
       "10   2016-11-10 28043.85 26697.08 25699.63 25320.29 25205.27 25561.88 26627.44\n",
       "11   2016-11-11 28406.63 26930.13 25798.84 25726.06 25445.79 25802.05 26440.88\n",
       "12   2016-11-12 28592.65 27126.19 26030.55 25122.95 25264.01 25454.93 25866.72\n",
       "13   2016-11-13 27417.65 25857.95 24451.00 23926.44 23656.88 23672.10 23745.51\n",
       "14   2016-11-14 25902.55 24629.22 23576.41 23264.37 23183.46 23634.20 24964.14\n",
       "15   2016-11-15 28743.84 27342.45 26293.71 25704.91 25611.94 26043.47 27088.20\n",
       "16   2016-11-16 29114.75 27620.91 26590.51 26133.03 26032.88 26365.35 27446.72\n",
       "17   2016-11-17 29552.15 27742.90 26739.00 26218.27 26028.40 26424.68 27624.23\n",
       "18   2016-11-18 29713.65 27784.75 26870.65 26352.47 26123.57 26599.72 27879.64\n",
       "19   2016-11-19 30219.53 28326.28 27039.44 26374.86 26224.27 26441.62 27120.43\n",
       "20   2016-11-20 28722.00 26928.56 25584.49 24801.01 24431.66 24454.85 24689.39\n",
       "21   2016-11-21 27144.66 25562.36 24584.52 24108.06 24049.11 24508.04 25871.82\n",
       "22   2016-11-22 29641.77 27941.44 26889.15 26275.85 26233.38 26575.02 27819.71\n",
       "23   2016-11-23 29796.84 28184.01 27222.72 26620.37 26512.81 26887.12 28077.93\n",
       "24   2016-11-24 30488.20 28583.85 27380.81 26864.84 26464.85 27187.72 28081.69\n",
       "25   2016-11-25 30732.32 28453.74 27863.49 27258.41 27130.40 27388.28 28733.41\n",
       "26   2016-11-26 30508.74 28601.73 27398.64 26894.86 26713.21 26848.12 27492.19\n",
       "27   2016-11-27 29297.38 27414.53 25979.42 25425.66 25309.07 25213.82 25423.09\n",
       "28   2016-11-28 27493.29 25785.28 24795.56 24268.82 24526.83 24757.15 26105.30\n",
       "29   2016-11-29 30240.42 28187.44 27153.59 26792.41 26603.63 27114.70 28210.69\n",
       "30   2016-11-30 30401.59 28500.71 27036.79 26877.56 26810.02 27326.48 28633.09\n",
       "...  ...        ...      ...      ...      ...      ...      ...      ...     \n",
       "1067 2019-10-03 30156.18 28840.52 28012.38 27467.55 27240.64 27491.50 27929.70\n",
       "1068 2019-10-04 30464.48 29166.60 28059.80 27541.97 27356.75 27731.29 28173.00\n",
       "1069 2019-10-05 30067.95 28397.56 27663.53 26742.70 26627.29 26813.64 26820.16\n",
       "1070 2019-10-06 28180.12 26751.80 25797.09 25103.52 24775.74 24818.77 24376.33\n",
       "1071 2019-10-07 26630.99 25555.75 24707.91 24322.41 24351.37 24679.76 25396.18\n",
       "1072 2019-10-08 29292.17 27992.38 27164.87 26511.43 26440.79 26795.81 27277.71\n",
       "1073 2019-10-09 29550.44 27993.66 27344.17 26906.26 26744.16 27066.71 27554.25\n",
       "1074 2019-10-10 29703.68 28399.36 27536.81 26941.83 26795.06 27018.94 27601.75\n",
       "1075 2019-10-11 29750.39 28220.18 27350.94 26822.04 26581.76 26929.95 27381.78\n",
       "1076 2019-10-12 29666.75 28252.17 27200.17 26545.26 26293.24 26472.32 26539.01\n",
       "1077 2019-10-13 28135.98 26700.96 25790.11 25046.86 24689.08 24663.95 24428.93\n",
       "1078 2019-10-14 26786.74 25683.49 24733.93 24427.52 24227.06 24602.86 25483.87\n",
       "1079 2019-10-15 29500.75 28294.83 27284.99 26761.68 26565.12 26788.65 27398.68\n",
       "1080 2019-10-16 29367.13 28133.90 27256.32 26582.28 26540.53 26763.80 27418.09\n",
       "1081 2019-10-17 29459.28 28196.04 27158.39 26575.25 26468.92 26825.08 27421.29\n",
       "1082 2019-10-18 29638.83 28341.46 27297.28 26739.09 26613.49 27038.05 27640.63\n",
       "1083 2019-10-19 29640.48 28078.58 27264.50 26554.55 26379.81 26476.86 26433.89\n",
       "1084 2019-10-20 27616.14 26169.24 25056.63 24091.72 23847.21 24031.11 23922.88\n",
       "1085 2019-10-21 26449.87 25268.02 24421.16 23988.47 23923.00 24337.52 25397.17\n",
       "1086 2019-10-22 29195.12 27677.44 26826.76 26426.05 26253.14 26589.28 27333.48\n",
       "1087 2019-10-23 29265.74 27902.58 27211.54 26519.88 26459.65 26724.68 27599.95\n",
       "1088 2019-10-24 29351.46 28195.00 27269.71 26541.81 26287.62 26677.16 27377.08\n",
       "1089 2019-10-25 29563.43 28242.90 27258.74 26739.84 26555.35 26857.36 27783.77\n",
       "1090 2019-10-26 29480.57 27978.33 27276.31 26707.26 26456.04 26579.56 26858.98\n",
       "1091 2019-10-27 27919.18 26739.96 25627.61 24943.13 24630.76 24679.05 24631.80\n",
       "1092 2019-10-28 26173.13 24829.47 23936.41 23606.00 23465.03 23681.83 24500.09\n",
       "1093 2019-10-29 26438.40 25164.63 24281.70 23721.12 23591.77 23689.71 24118.11\n",
       "1094 2019-10-30 27154.21 26157.42 25373.88 24911.43 24836.11 25233.76 26296.00\n",
       "1095 2019-10-31 29331.55 28111.63 27264.60 26644.38 26512.81 26845.26 27760.58\n",
       "1096 2019-11-01 29417.56 28133.75 27358.60 26780.09 26511.54 27002.74 27945.43\n",
       "     07:00:00 08:00:00 ... 14:00:00 15:00:00 16:00:00 17:00:00 18:00:00\n",
       "1    27573.40 31815.96 ... 35069.03 34718.82 34934.69 35278.73 35589.85\n",
       "2    28421.31 32653.72 ... 35030.24 34664.89 34725.83 35367.85 36114.10\n",
       "3    29047.66 33244.35 ... 34569.26 34185.81 34376.30 35192.63 36169.75\n",
       "4    29084.00 33183.49 ... 35273.14 34835.68 35034.60 35809.91 36367.53\n",
       "5    27193.91 30401.78 ... 32757.32 32139.61 31807.34 32672.77 34061.74\n",
       "6    23736.54 24640.05 ... 27480.03 27235.76 27411.49 28926.80 31132.40\n",
       "7    27609.98 31898.48 ... 34239.96 34115.60 34938.23 35121.84 35396.59\n",
       "8    28384.51 32425.54 ... 34000.72 33612.86 33687.50 34416.41 34830.20\n",
       "9    28338.69 31998.44 ... 34084.92 33670.62 33704.98 34574.32 34867.00\n",
       "10   28121.14 31762.78 ... 34115.60 33723.35 33741.92 34282.73 35017.89\n",
       "11   28332.59 31842.83 ... 33501.23 33231.64 33537.67 34333.68 34605.21\n",
       "12   26869.65 29819.21 ... 31899.60 31202.62 31115.72 31812.64 32950.41\n",
       "13   23326.12 23916.40 ... 27329.71 27236.65 27533.85 28695.32 30353.32\n",
       "14   27044.45 31641.70 ... 34785.98 34500.88 34767.50 35800.73 35780.17\n",
       "15   28903.21 33068.16 ... 36075.57 35692.81 35895.78 36652.62 36586.33\n",
       "16   29285.02 33514.86 ... 36824.00 36530.13 36730.43 37611.70 37302.11\n",
       "17   29631.82 33764.41 ... 35947.97 35629.11 36090.10 37117.58 37428.41\n",
       "18   29970.64 34054.11 ... 35166.67 35049.93 35437.17 36549.82 36912.34\n",
       "19   27926.03 31444.06 ... 33429.45 32885.96 32792.01 33986.31 35265.96\n",
       "20   24781.36 25579.12 ... 28135.66 28090.97 28474.08 30450.88 32281.73\n",
       "21   28272.31 32870.13 ... 35797.71 35679.17 35970.71 37315.06 37301.55\n",
       "22   29709.93 33942.60 ... 35466.40 35321.80 35888.83 37130.00 37347.56\n",
       "23   30085.11 34078.22 ... 36033.14 35751.88 36235.28 37548.76 37714.48\n",
       "24   30286.74 34159.36 ... 36162.95 35921.16 36232.21 37817.66 37835.70\n",
       "25   30766.13 34607.24 ... 35261.42 35594.68 36176.79 37149.05 37511.49\n",
       "26   28434.66 31449.55 ... 34021.14 33506.65 33532.78 34946.02 35784.04\n",
       "27   25423.74 25679.98 ... 28900.02 28696.09 29371.23 31322.66 32835.11\n",
       "28   28654.25 33321.99 ... 37155.18 36944.60 37592.34 38234.19 37704.60\n",
       "29   30239.42 34252.67 ... 38458.67 38329.21 38492.99 39118.86 38058.96\n",
       "30   30829.85 34988.47 ... 39455.88 39184.74 39157.78 39455.98 38421.22\n",
       "...  ...      ...          ...      ...      ...      ...      ...     \n",
       "1067 29006.96 32548.26 ... 35533.33 35717.09 36246.95 36781.67 36866.64\n",
       "1068 29037.37 32608.56 ... 35353.24 35589.36 36243.35 36459.43 36699.52\n",
       "1069 26863.76 29837.49 ... 32389.45 32195.70 32130.78 32524.87 33770.74\n",
       "1070 23460.91 23870.75 ... 27151.29 27325.10 27692.15 28650.22 30547.06\n",
       "1071 27060.81 30743.62 ... 34057.70 34260.94 34985.32 35160.25 35505.66\n",
       "1072 28306.61 32086.98 ... 35140.39 35104.57 35668.98 36005.90 36365.97\n",
       "1073 28481.88 32131.33 ... 33739.04 34098.15 34755.55 35469.31 36185.12\n",
       "1074 28569.12 32016.75 ... 33843.48 34204.10 34975.08 35733.23 36335.97\n",
       "1075 28284.37 31974.83 ... 34369.41 34738.84 35231.95 35416.89 36105.23\n",
       "1076 26642.20 29241.01 ... 31110.67 31204.82 31710.91 32660.00 34086.11\n",
       "1077 23438.48 24260.35 ... 26294.14 26727.63 27618.95 29153.99 31408.10\n",
       "1078 26711.16 30778.54 ... 34240.61 34559.40 35309.25 35944.01 36380.70\n",
       "1079 28476.53 32049.11 ... 34378.79 34774.39 35416.84 35942.17 36358.77\n",
       "1080 28556.74 32517.13 ... 35221.71 35281.30 35776.89 35819.27 36426.58\n",
       "1081 28637.56 32436.66 ... 34836.87 35218.51 35797.84 36084.04 36469.74\n",
       "1082 28686.85 32150.72 ... 34222.53 34593.96 35286.69 35890.90 36259.68\n",
       "1083 26628.16 29433.13 ... 32083.18 32112.84 32626.89 32941.16 34347.66\n",
       "1084 23268.50 23490.34 ... 26824.68 27090.18 27958.46 29236.00 31298.70\n",
       "1085 26946.56 31180.84 ... 34034.85 34324.30 34138.07 34872.54 37169.89\n",
       "1086 28568.17 32397.66 ... 34299.05 34490.13 35018.02 35681.22 36374.13\n",
       "1087 28582.21 32034.03 ... 33463.46 33754.24 34625.56 35748.76 36481.78\n",
       "1088 28670.73 32155.51 ... 33343.10 33844.99 34733.78 35940.96 36896.34\n",
       "1089 28969.45 32153.21 ... 33019.99 33476.62 34304.06 35973.89 36302.11\n",
       "1090 26828.60 29610.06 ... 31208.99 31179.67 31709.40 32990.31 34661.08\n",
       "1091 23696.06 23923.17 ... 26125.23 26816.28 27786.59 29270.44 31545.76\n",
       "1092 25661.66 28924.37 ... 30560.42 30784.13 31417.36 32603.58 33251.44\n",
       "1093 24186.66 26266.15 ... 28503.34 28726.63 29654.71 31123.37 32634.84\n",
       "1094 27575.60 31667.27 ... 33050.83 33464.69 34612.24 36082.10 36936.24\n",
       "1095 28656.62 32350.30 ... 33610.56 34049.16 35164.62 36513.48 37199.82\n",
       "1096 29120.27 32815.46 ... 35732.88 35859.75 36268.51 37011.89 37199.91\n",
       "     19:00:00 20:00:00 21:00:00 22:00:00 23:00:00\n",
       "1    34449.39 33620.31 32630.86 32148.63 30647.12\n",
       "2    35622.12 34818.21 33833.66 33166.59 31708.78\n",
       "3    35507.07 34678.88 33825.89 33086.19 31618.59\n",
       "4    35389.82 34410.85 33275.09 32793.00 31562.25\n",
       "5    33312.47 32485.60 31782.61 31281.05 29766.51\n",
       "6    30949.32 30522.79 29838.59 29282.05 27671.45\n",
       "7    34380.33 33520.54 32714.34 31847.48 30295.86\n",
       "8    33860.74 33226.17 32292.83 31522.61 30215.19\n",
       "9    33963.82 33048.78 32192.10 31308.69 30088.98\n",
       "10   34194.08 33331.31 32351.56 31895.64 30624.21\n",
       "11   33781.16 32956.85 32216.92 31582.88 30700.37\n",
       "12   32280.42 31594.76 30958.15 30461.56 29013.99\n",
       "13   30175.16 29801.85 29289.56 28861.39 27612.14\n",
       "14   34643.68 34118.53 33091.63 32375.75 30964.22\n",
       "15   35510.57 34571.32 33645.50 32977.72 31540.68\n",
       "16   36210.85 35101.71 34139.19 33420.47 31929.50\n",
       "17   36502.75 35494.16 34493.89 33644.77 31916.32\n",
       "18   36084.33 35349.38 34484.27 33881.96 32549.09\n",
       "19   34572.11 33862.89 33010.62 32517.15 30929.11\n",
       "20   32289.65 31725.37 30961.99 30534.52 29205.66\n",
       "21   36286.13 35539.39 34330.38 33682.05 32146.84\n",
       "22   36302.01 35451.37 34403.36 33772.99 32363.44\n",
       "23   36589.42 35781.90 35049.31 34297.88 32735.33\n",
       "24   36896.58 35947.65 35061.47 34489.33 33174.57\n",
       "25   36304.14 35411.25 34524.11 33941.38 32593.41\n",
       "26   34899.40 34116.64 33445.55 32869.18 31709.09\n",
       "27   32599.19 32050.82 31643.50 30802.60 29874.24\n",
       "28   36541.45 35734.00 34748.44 34020.40 32334.37\n",
       "29   36744.92 35967.99 34863.26 34314.44 32882.66\n",
       "30   37218.74 36340.90 35405.65 34983.98 33492.03\n",
       "...  ...      ...      ...      ...      ...     \n",
       "1067 37272.52 36291.59 35018.16 33957.18 32420.60\n",
       "1068 36873.23 35597.62 34686.56 33570.35 32045.13\n",
       "1069 34563.17 33623.72 32606.53 31539.20 30076.26\n",
       "1070 31647.86 31254.60 30412.83 29535.63 28161.12\n",
       "1071 35578.82 34778.89 33689.22 32715.06 31232.77\n",
       "1072 36418.03 35349.16 34230.22 33209.52 31277.50\n",
       "1073 36521.60 35571.29 34451.61 33417.03 31765.05\n",
       "1074 36325.31 35430.47 34396.73 33248.37 31665.86\n",
       "1075 35857.17 34722.83 33754.28 32968.33 31528.24\n",
       "1076 34403.91 33641.86 32526.09 31098.92 30040.83\n",
       "1077 32130.58 31609.95 30706.60 29813.40 28188.58\n",
       "1078 36364.51 35242.79 34071.59 33216.82 31600.77\n",
       "1079 36131.14 35121.06 34095.66 33040.57 31322.91\n",
       "1080 36113.35 35151.25 34109.19 32999.83 31206.60\n",
       "1081 36280.94 35323.55 34220.36 33089.91 31657.19\n",
       "1082 36003.46 34857.91 33933.34 32797.64 31393.91\n",
       "1083 34202.88 33139.86 32063.91 30998.74 29746.88\n",
       "1084 31593.76 30748.74 30154.37 29155.56 27738.08\n",
       "1085 35396.81 34587.96 33460.70 32453.14 30849.86\n",
       "1086 35747.25 34627.06 33788.69 32574.66 31094.45\n",
       "1087 35897.97 34870.08 33660.73 32676.78 31187.68\n",
       "1088 36101.45 35323.94 34256.95 33052.27 31544.26\n",
       "1089 35698.70 34820.93 33659.48 32696.81 30942.64\n",
       "1090 34207.35 33279.92 32309.83 31391.48 29833.08\n",
       "1091 31537.16 30808.01 30119.70 28839.74 27770.37\n",
       "1092 32818.51 31861.80 30864.56 29650.34 28315.54\n",
       "1093 32073.46 31545.44 30666.96 29559.34 28434.09\n",
       "1094 36219.71 35136.55 34155.15 32878.23 31456.46\n",
       "1095 36104.42 35263.31 34133.64 32865.22 31399.91\n",
       "1096 36056.96 35130.19 33947.64 32877.69 31590.75"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "data_wide<- spread(data_wide, Time, Consumption)\n",
    "data_wide"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Changing the names of columns*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "metadata": {},
   "outputs": [],
   "source": [
    "names(data_wide)[2]=\"hour_0\"\n",
    "names(data_wide)[3]=\"hour_1\"\n",
    "names(data_wide)[4]=\"hour_2\"\n",
    "names(data_wide)[5]=\"hour_3\"\n",
    "names(data_wide)[6]=\"hour_4\"\n",
    "names(data_wide)[7]=\"hour_5\"\n",
    "names(data_wide)[8]=\"hour_6\"\n",
    "names(data_wide)[9]=\"hour_7\"\n",
    "names(data_wide)[10]=\"hour_8\"\n",
    "names(data_wide)[11]=\"hour_9\"\n",
    "names(data_wide)[12]=\"hour_10\"\n",
    "names(data_wide)[13]=\"hour_11\"\n",
    "names(data_wide)[14]=\"hour_12\"\n",
    "names(data_wide)[15]=\"hour_13\"\n",
    "names(data_wide)[16]=\"hour_14\"\n",
    "names(data_wide)[17]=\"hour_15\"\n",
    "names(data_wide)[18]=\"hour_16\"\n",
    "names(data_wide)[19]=\"hour_17\"\n",
    "names(data_wide)[20]=\"hour_18\"\n",
    "names(data_wide)[21]=\"hour_19\"\n",
    "names(data_wide)[22]=\"hour_20\"\n",
    "names(data_wide)[23]=\"hour_21\"\n",
    "names(data_wide)[24]=\"hour_22\"\n",
    "names(data_wide)[25]=\"hour_23\""
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Adding new columns to wide format*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 27,
   "metadata": {},
   "outputs": [],
   "source": [
    "data_wide[,Lag_day2_hour_0:= 0]\n",
    "data_wide[,Lag_day2_hour_1:= 0]\n",
    "data_wide[,Lag_day2_hour_2:= 0]\n",
    "data_wide[,Lag_day2_hour_3:= 0]\n",
    "data_wide[,Lag_day2_hour_4:= 0]\n",
    "data_wide[,Lag_day2_hour_5:= 0]\n",
    "data_wide[,Lag_day2_hour_6:= 0]\n",
    "data_wide[,Lag_day2_hour_7:= 0]\n",
    "data_wide[,Lag_day2_hour_8:= 0]\n",
    "data_wide[,Lag_day2_hour_9:= 0]\n",
    "data_wide[,Lag_day2_hour_10:= 0]\n",
    "data_wide[,Lag_day2_hour_11:= 0]\n",
    "data_wide[,Lag_day2_hour_12:= 0]\n",
    "data_wide[,Lag_day2_hour_13:= 0]\n",
    "data_wide[,Lag_day2_hour_14:= 0]\n",
    "data_wide[,Lag_day2_hour_15:= 0]\n",
    "data_wide[,Lag_day2_hour_16:= 0]\n",
    "data_wide[,Lag_day2_hour_17:= 0]\n",
    "data_wide[,Lag_day2_hour_18:= 0]\n",
    "data_wide[,Lag_day2_hour_19:= 0]\n",
    "data_wide[,Lag_day2_hour_20:= 0]\n",
    "data_wide[,Lag_day2_hour_21:= 0]\n",
    "data_wide[,Lag_day2_hour_22:= 0]\n",
    "data_wide[,Lag_day2_hour_23:= 0]\n",
    "\n",
    "data_wide[,Lag_day7_hour_0:= 0]\n",
    "data_wide[,Lag_day7_hour_1:= 0]\n",
    "data_wide[,Lag_day7_hour_2:= 0]\n",
    "data_wide[,Lag_day7_hour_3:= 0]\n",
    "data_wide[,Lag_day7_hour_4:= 0]\n",
    "data_wide[,Lag_day7_hour_5:= 0]\n",
    "data_wide[,Lag_day7_hour_6:= 0]\n",
    "data_wide[,Lag_day7_hour_7:= 0]\n",
    "data_wide[,Lag_day7_hour_8:= 0]\n",
    "data_wide[,Lag_day7_hour_9:= 0]\n",
    "data_wide[,Lag_day7_hour_10:= 0]\n",
    "data_wide[,Lag_day7_hour_11:= 0]\n",
    "data_wide[,Lag_day7_hour_12:= 0]\n",
    "data_wide[,Lag_day7_hour_13:= 0]\n",
    "data_wide[,Lag_day7_hour_14:= 0]\n",
    "data_wide[,Lag_day7_hour_15:= 0]\n",
    "data_wide[,Lag_day7_hour_16:= 0]\n",
    "data_wide[,Lag_day7_hour_17:= 0]\n",
    "data_wide[,Lag_day7_hour_18:= 0]\n",
    "data_wide[,Lag_day7_hour_19:= 0]\n",
    "data_wide[,Lag_day7_hour_20:= 0]\n",
    "data_wide[,Lag_day7_hour_21:= 0]\n",
    "data_wide[,Lag_day7_hour_22:= 0]\n",
    "data_wide[,Lag_day7_hour_23:= 0]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 28,
   "metadata": {},
   "outputs": [],
   "source": [
    "for(i in 49:(dim(data_wide)[1])){\n",
    "    data_wide$Lag_day2_hour_0[i]<-data_wide$hour_0[i-48]\n",
    "    data_wide$Lag_day2_hour_1[i]<-data_wide$hour_1[i-48]\n",
    "    data_wide$Lag_day2_hour_2[i]<-data_wide$hour_2[i-48]\n",
    "    data_wide$Lag_day2_hour_3[i]<-data_wide$hour_3[i-48]\n",
    "    data_wide$Lag_day2_hour_4[i]<-data_wide$hour_4[i-48]\n",
    "    data_wide$Lag_day2_hour_5[i]<-data_wide$hour_5[i-48]\n",
    "    data_wide$Lag_day2_hour_6[i]<-data_wide$hour_6[i-48]\n",
    "    data_wide$Lag_day2_hour_7[i]<-data_wide$hour_7[i-48]\n",
    "    data_wide$Lag_day2_hour_8[i]<-data_wide$hour_8[i-48]\n",
    "    data_wide$Lag_day2_hour_9[i]<-data_wide$hour_9[i-48]\n",
    "    data_wide$Lag_day2_hour_10[i]<-data_wide$hour_10[i-48]\n",
    "    data_wide$Lag_day2_hour_11[i]<-data_wide$hour_11[i-48]\n",
    "    data_wide$Lag_day2_hour_12[i]<-data_wide$hour_12[i-48]\n",
    "    data_wide$Lag_day2_hour_13[i]<-data_wide$hour_13[i-48]\n",
    "    data_wide$Lag_day2_hour_14[i]<-data_wide$hour_14[i-48]\n",
    "    data_wide$Lag_day2_hour_15[i]<-data_wide$hour_15[i-48]\n",
    "    data_wide$Lag_day2_hour_16[i]<-data_wide$hour_16[i-48]\n",
    "    data_wide$Lag_day2_hour_17[i]<-data_wide$hour_17[i-48]\n",
    "    data_wide$Lag_day2_hour_18[i]<-data_wide$hour_18[i-48]\n",
    "    data_wide$Lag_day2_hour_19[i]<-data_wide$hour_19[i-48]\n",
    "    data_wide$Lag_day2_hour_20[i]<-data_wide$hour_20[i-48]\n",
    "    data_wide$Lag_day2_hour_21[i]<-data_wide$hour_21[i-48]\n",
    "    data_wide$Lag_day2_hour_22[i]<-data_wide$hour_22[i-48]\n",
    "    data_wide$Lag_day2_hour_23[i]<-data_wide$hour_23[i-48]\n",
    "}"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 29,
   "metadata": {},
   "outputs": [],
   "source": [
    "for(i in 169:(dim(data_wide)[1])){\n",
    "    data_wide$Lag_day7_hour_0[i]<-data_wide$hour_0[i-168]\n",
    "    data_wide$Lag_day7_hour_1[i]<-data_wide$hour_1[i-168]\n",
    "    data_wide$Lag_day7_hour_2[i]<-data_wide$hour_2[i-168]\n",
    "    data_wide$Lag_day7_hour_3[i]<-data_wide$hour_3[i-168]\n",
    "    data_wide$Lag_day7_hour_4[i]<-data_wide$hour_4[i-168]\n",
    "    data_wide$Lag_day7_hour_5[i]<-data_wide$hour_5[i-168]\n",
    "    data_wide$Lag_day7_hour_6[i]<-data_wide$hour_6[i-168]\n",
    "    data_wide$Lag_day7_hour_7[i]<-data_wide$hour_7[i-168]\n",
    "    data_wide$Lag_day7_hour_8[i]<-data_wide$hour_8[i-168]\n",
    "    data_wide$Lag_day7_hour_9[i]<-data_wide$hour_9[i-168]\n",
    "    data_wide$Lag_day7_hour_10[i]<-data_wide$hour_10[i-168]\n",
    "    data_wide$Lag_day7_hour_11[i]<-data_wide$hour_11[i-168]\n",
    "    data_wide$Lag_day7_hour_12[i]<-data_wide$hour_12[i-168]\n",
    "    data_wide$Lag_day7_hour_13[i]<-data_wide$hour_13[i-168]\n",
    "    data_wide$Lag_day7_hour_14[i]<-data_wide$hour_14[i-168]\n",
    "    data_wide$Lag_day7_hour_15[i]<-data_wide$hour_15[i-168]\n",
    "    data_wide$Lag_day7_hour_16[i]<-data_wide$hour_16[i-168]\n",
    "    data_wide$Lag_day7_hour_17[i]<-data_wide$hour_17[i-168]\n",
    "    data_wide$Lag_day7_hour_18[i]<-data_wide$hour_18[i-168]\n",
    "    data_wide$Lag_day7_hour_19[i]<-data_wide$hour_19[i-168]\n",
    "    data_wide$Lag_day7_hour_20[i]<-data_wide$hour_20[i-168]\n",
    "    data_wide$Lag_day7_hour_21[i]<-data_wide$hour_21[i-168]\n",
    "    data_wide$Lag_day7_hour_22[i]<-data_wide$hour_22[i-168]\n",
    "    data_wide$Lag_day7_hour_23[i]<-data_wide$hour_23[i-168]\n",
    "}"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Separating data as test and train data*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 30,
   "metadata": {},
   "outputs": [],
   "source": [
    "train_data_wide=data_wide[Date < \"2019-11-01\"]\n",
    "test_data_wide=data_wide[Date >= \"2019-11-01\"]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Feature matrix is specified*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 34,
   "metadata": {},
   "outputs": [],
   "source": [
    "x=train_data_wide[,26:dim(train_data_wide)[2]]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 35,
   "metadata": {},
   "outputs": [],
   "source": [
    "x=as.matrix(x)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*10-fold cross validation*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 39,
   "metadata": {},
   "outputs": [],
   "source": [
    "set.seed(86)\n",
    "cvfit_hour0 = cv.glmnet(x, train_data_wide$hour_0, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour1 = cv.glmnet(x, train_data_wide$hour_1, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour2 = cv.glmnet(x, train_data_wide$hour_2, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour3 = cv.glmnet(x, train_data_wide$hour_3, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour4 = cv.glmnet(x, train_data_wide$hour_4, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour5 = cv.glmnet(x, train_data_wide$hour_5, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour6 = cv.glmnet(x, train_data_wide$hour_6, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour7 = cv.glmnet(x, train_data_wide$hour_7, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour8 = cv.glmnet(x, train_data_wide$hour_8, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour9 = cv.glmnet(x, train_data_wide$hour_9, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour10 = cv.glmnet(x, train_data_wide$hour_10, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour11 = cv.glmnet(x, train_data_wide$hour_11, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour12 = cv.glmnet(x, train_data_wide$hour_12, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour13 = cv.glmnet(x, train_data_wide$hour_13, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour14 = cv.glmnet(x, train_data_wide$hour_14, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour15 = cv.glmnet(x, train_data_wide$hour_15, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour16 = cv.glmnet(x, train_data_wide$hour_16, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour17 = cv.glmnet(x, train_data_wide$hour_17, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour18 = cv.glmnet(x, train_data_wide$hour_18, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour19 = cv.glmnet(x, train_data_wide$hour_19, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour20 = cv.glmnet(x, train_data_wide$hour_20, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour21 = cv.glmnet(x, train_data_wide$hour_21, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour22 = cv.glmnet(x, train_data_wide$hour_22, type.measure = \"mse\", nfolds = 10, alpha = 1)\n",
    "cvfit_hour23 = cv.glmnet(x, train_data_wide$hour_23, type.measure = \"mse\", nfolds = 10, alpha = 1)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*New columns is created for the new forecasts.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 41,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_data[,lasso_Hourly_Prediction:=0]"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*Feature matrix used in the predictions for test data*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 42,
   "metadata": {},
   "outputs": [],
   "source": [
    "predict_x=test_data_wide[,26:dim(test_data_wide)[2]]\n",
    "predict_x=as.matrix(predict_x)"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 43,
   "metadata": {},
   "outputs": [],
   "source": [
    "test_data$lasso_Hourly_Prediction[1]=predict(cvfit_hour0, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[2]=predict(cvfit_hour1, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[3]=predict(cvfit_hour2, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[4]=predict(cvfit_hour3, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[5]=predict(cvfit_hour4, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[6]=predict(cvfit_hour5, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[7]=predict(cvfit_hour6, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[8]=predict(cvfit_hour7, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[9]=predict(cvfit_hour8, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[10]=predict(cvfit_hour9, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[11]=predict(cvfit_hour10, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[12]=predict(cvfit_hour11, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[13]=predict(cvfit_hour12, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[14]=predict(cvfit_hour13, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[15]=predict(cvfit_hour14, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[16]=predict(cvfit_hour15, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[17]=predict(cvfit_hour16, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[18]=predict(cvfit_hour17, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[19]=predict(cvfit_hour18, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[20]=predict(cvfit_hour19, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[21]=predict(cvfit_hour20, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[22]=predict(cvfit_hour21, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[23]=predict(cvfit_hour22, predict_x, s = \"lambda.min\")\n",
    "test_data$lasso_Hourly_Prediction[24]=predict(cvfit_hour23, predict_x, s = \"lambda.min\")"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "*With the predictions based on Part D is added to the data table as below.*"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 44,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<table>\n",
       "<thead><tr><th scope=col>Date</th><th scope=col>Time</th><th scope=col>Consumption</th><th scope=col>lag48_Date</th><th scope=col>lag48_Consumption</th><th scope=col>lag168_Date</th><th scope=col>lag168_Consumption</th><th scope=col>lm_Prediction</th><th scope=col>lm_Hourly_Prediction</th><th scope=col>lasso_Hourly_Prediction</th></tr></thead>\n",
       "<tbody>\n",
       "\t<tr><td>2019-11-01</td><td>00:00:00  </td><td>29417.56  </td><td>2019-10-30</td><td>27154.21  </td><td>2019-10-25</td><td>29563.43  </td><td>29017.59  </td><td>28606.61  </td><td>29865.57  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>01:00:00  </td><td>28133.75  </td><td>2019-10-30</td><td>26157.42  </td><td>2019-10-25</td><td>28242.90  </td><td>27859.58  </td><td>27394.14  </td><td>28302.82  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>02:00:00  </td><td>27358.60  </td><td>2019-10-30</td><td>25373.88  </td><td>2019-10-25</td><td>27258.74  </td><td>26984.36  </td><td>26651.49  </td><td>27369.35  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>03:00:00  </td><td>26780.09  </td><td>2019-10-30</td><td>24911.43  </td><td>2019-10-25</td><td>26739.84  </td><td>26508.11  </td><td>26252.26  </td><td>26857.60  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>04:00:00  </td><td>26511.54  </td><td>2019-10-30</td><td>24836.11  </td><td>2019-10-25</td><td>26555.35  </td><td>26365.49  </td><td>26180.19  </td><td>26934.97  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>05:00:00  </td><td>27002.74  </td><td>2019-10-30</td><td>25233.76  </td><td>2019-10-25</td><td>26857.36  </td><td>26681.19  </td><td>26809.79  </td><td>27275.20  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>06:00:00  </td><td>27945.43  </td><td>2019-10-30</td><td>26296.00  </td><td>2019-10-25</td><td>27783.77  </td><td>27602.37  </td><td>27902.77  </td><td>28135.00  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>07:00:00  </td><td>29120.27  </td><td>2019-10-30</td><td>27575.60  </td><td>2019-10-25</td><td>28969.45  </td><td>28757.40  </td><td>29005.40  </td><td>29784.00  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>08:00:00  </td><td>32815.46  </td><td>2019-10-30</td><td>31667.27  </td><td>2019-10-25</td><td>32153.21  </td><td>32055.39  </td><td>33196.81  </td><td>33188.37  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>09:00:00  </td><td>34569.09  </td><td>2019-10-30</td><td>33138.17  </td><td>2019-10-25</td><td>33615.22  </td><td>33447.57  </td><td>34772.11  </td><td>34722.00  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>10:00:00  </td><td>35091.43  </td><td>2019-10-30</td><td>32926.25  </td><td>2019-10-25</td><td>33398.50  </td><td>33243.03  </td><td>34626.87  </td><td>34784.02  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>11:00:00  </td><td>35416.33  </td><td>2019-10-30</td><td>33122.35  </td><td>2019-10-25</td><td>33542.88  </td><td>33395.75  </td><td>34973.39  </td><td>34868.09  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>12:00:00  </td><td>33184.81  </td><td>2019-10-30</td><td>31518.65  </td><td>2019-10-25</td><td>30839.72  </td><td>31156.18  </td><td>32579.05  </td><td>32806.11  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>13:00:00  </td><td>33549.94  </td><td>2019-10-30</td><td>31895.21  </td><td>2019-10-25</td><td>30920.91  </td><td>31321.87  </td><td>32839.08  </td><td>32611.16  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>14:00:00  </td><td>35732.88  </td><td>2019-10-30</td><td>33050.83  </td><td>2019-10-25</td><td>33019.99  </td><td>33034.08  </td><td>34667.87  </td><td>34112.43  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>15:00:00  </td><td>35859.75  </td><td>2019-10-30</td><td>33464.69  </td><td>2019-10-25</td><td>33476.62  </td><td>33455.25  </td><td>35011.60  </td><td>34532.85  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>16:00:00  </td><td>36268.51  </td><td>2019-10-30</td><td>34612.24  </td><td>2019-10-25</td><td>34304.06  </td><td>34337.60  </td><td>35930.57  </td><td>35344.69  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>17:00:00  </td><td>37011.89  </td><td>2019-10-30</td><td>36082.10  </td><td>2019-10-25</td><td>35973.89  </td><td>35864.68  </td><td>37080.74  </td><td>36463.44  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>18:00:00  </td><td>37199.91  </td><td>2019-10-30</td><td>36936.24  </td><td>2019-10-25</td><td>36302.11  </td><td>36334.26  </td><td>37477.64  </td><td>36559.40  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>19:00:00  </td><td>36056.96  </td><td>2019-10-30</td><td>36219.71  </td><td>2019-10-25</td><td>35698.70  </td><td>35726.87  </td><td>37499.68  </td><td>35774.49  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>20:00:00  </td><td>35130.19  </td><td>2019-10-30</td><td>35136.55  </td><td>2019-10-25</td><td>34820.93  </td><td>34831.07  </td><td>35791.49  </td><td>35180.28  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>21:00:00  </td><td>33947.64  </td><td>2019-10-30</td><td>34155.15  </td><td>2019-10-25</td><td>33659.48  </td><td>33781.18  </td><td>34519.51  </td><td>34394.60  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>22:00:00  </td><td>32877.69  </td><td>2019-10-30</td><td>32878.23  </td><td>2019-10-25</td><td>32696.81  </td><td>32772.06  </td><td>33517.12  </td><td>33469.78  </td></tr>\n",
       "\t<tr><td>2019-11-01</td><td>23:00:00  </td><td>31590.75  </td><td>2019-10-30</td><td>31456.46  </td><td>2019-10-25</td><td>30942.64  </td><td>31204.51  </td><td>31729.35  </td><td>31896.05  </td></tr>\n",
       "</tbody>\n",
       "</table>\n"
      ],
      "text/latex": [
       "\\begin{tabular}{r|llllllllll}\n",
       " Date & Time & Consumption & lag48\\_Date & lag48\\_Consumption & lag168\\_Date & lag168\\_Consumption & lm\\_Prediction & lm\\_Hourly\\_Prediction & lasso\\_Hourly\\_Prediction\\\\\n",
       "\\hline\n",
       "\t 2019-11-01 & 00:00:00   & 29417.56   & 2019-10-30 & 27154.21   & 2019-10-25 & 29563.43   & 29017.59   & 28606.61   & 29865.57  \\\\\n",
       "\t 2019-11-01 & 01:00:00   & 28133.75   & 2019-10-30 & 26157.42   & 2019-10-25 & 28242.90   & 27859.58   & 27394.14   & 28302.82  \\\\\n",
       "\t 2019-11-01 & 02:00:00   & 27358.60   & 2019-10-30 & 25373.88   & 2019-10-25 & 27258.74   & 26984.36   & 26651.49   & 27369.35  \\\\\n",
       "\t 2019-11-01 & 03:00:00   & 26780.09   & 2019-10-30 & 24911.43   & 2019-10-25 & 26739.84   & 26508.11   & 26252.26   & 26857.60  \\\\\n",
       "\t 2019-11-01 & 04:00:00   & 26511.54   & 2019-10-30 & 24836.11   & 2019-10-25 & 26555.35   & 26365.49   & 26180.19   & 26934.97  \\\\\n",
       "\t 2019-11-01 & 05:00:00   & 27002.74   & 2019-10-30 & 25233.76   & 2019-10-25 & 26857.36   & 26681.19   & 26809.79   & 27275.20  \\\\\n",
       "\t 2019-11-01 & 06:00:00   & 27945.43   & 2019-10-30 & 26296.00   & 2019-10-25 & 27783.77   & 27602.37   & 27902.77   & 28135.00  \\\\\n",
       "\t 2019-11-01 & 07:00:00   & 29120.27   & 2019-10-30 & 27575.60   & 2019-10-25 & 28969.45   & 28757.40   & 29005.40   & 29784.00  \\\\\n",
       "\t 2019-11-01 & 08:00:00   & 32815.46   & 2019-10-30 & 31667.27   & 2019-10-25 & 32153.21   & 32055.39   & 33196.81   & 33188.37  \\\\\n",
       "\t 2019-11-01 & 09:00:00   & 34569.09   & 2019-10-30 & 33138.17   & 2019-10-25 & 33615.22   & 33447.57   & 34772.11   & 34722.00  \\\\\n",
       "\t 2019-11-01 & 10:00:00   & 35091.43   & 2019-10-30 & 32926.25   & 2019-10-25 & 33398.50   & 33243.03   & 34626.87   & 34784.02  \\\\\n",
       "\t 2019-11-01 & 11:00:00   & 35416.33   & 2019-10-30 & 33122.35   & 2019-10-25 & 33542.88   & 33395.75   & 34973.39   & 34868.09  \\\\\n",
       "\t 2019-11-01 & 12:00:00   & 33184.81   & 2019-10-30 & 31518.65   & 2019-10-25 & 30839.72   & 31156.18   & 32579.05   & 32806.11  \\\\\n",
       "\t 2019-11-01 & 13:00:00   & 33549.94   & 2019-10-30 & 31895.21   & 2019-10-25 & 30920.91   & 31321.87   & 32839.08   & 32611.16  \\\\\n",
       "\t 2019-11-01 & 14:00:00   & 35732.88   & 2019-10-30 & 33050.83   & 2019-10-25 & 33019.99   & 33034.08   & 34667.87   & 34112.43  \\\\\n",
       "\t 2019-11-01 & 15:00:00   & 35859.75   & 2019-10-30 & 33464.69   & 2019-10-25 & 33476.62   & 33455.25   & 35011.60   & 34532.85  \\\\\n",
       "\t 2019-11-01 & 16:00:00   & 36268.51   & 2019-10-30 & 34612.24   & 2019-10-25 & 34304.06   & 34337.60   & 35930.57   & 35344.69  \\\\\n",
       "\t 2019-11-01 & 17:00:00   & 37011.89   & 2019-10-30 & 36082.10   & 2019-10-25 & 35973.89   & 35864.68   & 37080.74   & 36463.44  \\\\\n",
       "\t 2019-11-01 & 18:00:00   & 37199.91   & 2019-10-30 & 36936.24   & 2019-10-25 & 36302.11   & 36334.26   & 37477.64   & 36559.40  \\\\\n",
       "\t 2019-11-01 & 19:00:00   & 36056.96   & 2019-10-30 & 36219.71   & 2019-10-25 & 35698.70   & 35726.87   & 37499.68   & 35774.49  \\\\\n",
       "\t 2019-11-01 & 20:00:00   & 35130.19   & 2019-10-30 & 35136.55   & 2019-10-25 & 34820.93   & 34831.07   & 35791.49   & 35180.28  \\\\\n",
       "\t 2019-11-01 & 21:00:00   & 33947.64   & 2019-10-30 & 34155.15   & 2019-10-25 & 33659.48   & 33781.18   & 34519.51   & 34394.60  \\\\\n",
       "\t 2019-11-01 & 22:00:00   & 32877.69   & 2019-10-30 & 32878.23   & 2019-10-25 & 32696.81   & 32772.06   & 33517.12   & 33469.78  \\\\\n",
       "\t 2019-11-01 & 23:00:00   & 31590.75   & 2019-10-30 & 31456.46   & 2019-10-25 & 30942.64   & 31204.51   & 31729.35   & 31896.05  \\\\\n",
       "\\end{tabular}\n"
      ],
      "text/markdown": [
       "\n",
       "| Date | Time | Consumption | lag48_Date | lag48_Consumption | lag168_Date | lag168_Consumption | lm_Prediction | lm_Hourly_Prediction | lasso_Hourly_Prediction |\n",
       "|---|---|---|---|---|---|---|---|---|---|\n",
       "| 2019-11-01 | 00:00:00   | 29417.56   | 2019-10-30 | 27154.21   | 2019-10-25 | 29563.43   | 29017.59   | 28606.61   | 29865.57   |\n",
       "| 2019-11-01 | 01:00:00   | 28133.75   | 2019-10-30 | 26157.42   | 2019-10-25 | 28242.90   | 27859.58   | 27394.14   | 28302.82   |\n",
       "| 2019-11-01 | 02:00:00   | 27358.60   | 2019-10-30 | 25373.88   | 2019-10-25 | 27258.74   | 26984.36   | 26651.49   | 27369.35   |\n",
       "| 2019-11-01 | 03:00:00   | 26780.09   | 2019-10-30 | 24911.43   | 2019-10-25 | 26739.84   | 26508.11   | 26252.26   | 26857.60   |\n",
       "| 2019-11-01 | 04:00:00   | 26511.54   | 2019-10-30 | 24836.11   | 2019-10-25 | 26555.35   | 26365.49   | 26180.19   | 26934.97   |\n",
       "| 2019-11-01 | 05:00:00   | 27002.74   | 2019-10-30 | 25233.76   | 2019-10-25 | 26857.36   | 26681.19   | 26809.79   | 27275.20   |\n",
       "| 2019-11-01 | 06:00:00   | 27945.43   | 2019-10-30 | 26296.00   | 2019-10-25 | 27783.77   | 27602.37   | 27902.77   | 28135.00   |\n",
       "| 2019-11-01 | 07:00:00   | 29120.27   | 2019-10-30 | 27575.60   | 2019-10-25 | 28969.45   | 28757.40   | 29005.40   | 29784.00   |\n",
       "| 2019-11-01 | 08:00:00   | 32815.46   | 2019-10-30 | 31667.27   | 2019-10-25 | 32153.21   | 32055.39   | 33196.81   | 33188.37   |\n",
       "| 2019-11-01 | 09:00:00   | 34569.09   | 2019-10-30 | 33138.17   | 2019-10-25 | 33615.22   | 33447.57   | 34772.11   | 34722.00   |\n",
       "| 2019-11-01 | 10:00:00   | 35091.43   | 2019-10-30 | 32926.25   | 2019-10-25 | 33398.50   | 33243.03   | 34626.87   | 34784.02   |\n",
       "| 2019-11-01 | 11:00:00   | 35416.33   | 2019-10-30 | 33122.35   | 2019-10-25 | 33542.88   | 33395.75   | 34973.39   | 34868.09   |\n",
       "| 2019-11-01 | 12:00:00   | 33184.81   | 2019-10-30 | 31518.65   | 2019-10-25 | 30839.72   | 31156.18   | 32579.05   | 32806.11   |\n",
       "| 2019-11-01 | 13:00:00   | 33549.94   | 2019-10-30 | 31895.21   | 2019-10-25 | 30920.91   | 31321.87   | 32839.08   | 32611.16   |\n",
       "| 2019-11-01 | 14:00:00   | 35732.88   | 2019-10-30 | 33050.83   | 2019-10-25 | 33019.99   | 33034.08   | 34667.87   | 34112.43   |\n",
       "| 2019-11-01 | 15:00:00   | 35859.75   | 2019-10-30 | 33464.69   | 2019-10-25 | 33476.62   | 33455.25   | 35011.60   | 34532.85   |\n",
       "| 2019-11-01 | 16:00:00   | 36268.51   | 2019-10-30 | 34612.24   | 2019-10-25 | 34304.06   | 34337.60   | 35930.57   | 35344.69   |\n",
       "| 2019-11-01 | 17:00:00   | 37011.89   | 2019-10-30 | 36082.10   | 2019-10-25 | 35973.89   | 35864.68   | 37080.74   | 36463.44   |\n",
       "| 2019-11-01 | 18:00:00   | 37199.91   | 2019-10-30 | 36936.24   | 2019-10-25 | 36302.11   | 36334.26   | 37477.64   | 36559.40   |\n",
       "| 2019-11-01 | 19:00:00   | 36056.96   | 2019-10-30 | 36219.71   | 2019-10-25 | 35698.70   | 35726.87   | 37499.68   | 35774.49   |\n",
       "| 2019-11-01 | 20:00:00   | 35130.19   | 2019-10-30 | 35136.55   | 2019-10-25 | 34820.93   | 34831.07   | 35791.49   | 35180.28   |\n",
       "| 2019-11-01 | 21:00:00   | 33947.64   | 2019-10-30 | 34155.15   | 2019-10-25 | 33659.48   | 33781.18   | 34519.51   | 34394.60   |\n",
       "| 2019-11-01 | 22:00:00   | 32877.69   | 2019-10-30 | 32878.23   | 2019-10-25 | 32696.81   | 32772.06   | 33517.12   | 33469.78   |\n",
       "| 2019-11-01 | 23:00:00   | 31590.75   | 2019-10-30 | 31456.46   | 2019-10-25 | 30942.64   | 31204.51   | 31729.35   | 31896.05   |\n",
       "\n"
      ],
      "text/plain": [
       "   Date       Time     Consumption lag48_Date lag48_Consumption lag168_Date\n",
       "1  2019-11-01 00:00:00 29417.56    2019-10-30 27154.21          2019-10-25 \n",
       "2  2019-11-01 01:00:00 28133.75    2019-10-30 26157.42          2019-10-25 \n",
       "3  2019-11-01 02:00:00 27358.60    2019-10-30 25373.88          2019-10-25 \n",
       "4  2019-11-01 03:00:00 26780.09    2019-10-30 24911.43          2019-10-25 \n",
       "5  2019-11-01 04:00:00 26511.54    2019-10-30 24836.11          2019-10-25 \n",
       "6  2019-11-01 05:00:00 27002.74    2019-10-30 25233.76          2019-10-25 \n",
       "7  2019-11-01 06:00:00 27945.43    2019-10-30 26296.00          2019-10-25 \n",
       "8  2019-11-01 07:00:00 29120.27    2019-10-30 27575.60          2019-10-25 \n",
       "9  2019-11-01 08:00:00 32815.46    2019-10-30 31667.27          2019-10-25 \n",
       "10 2019-11-01 09:00:00 34569.09    2019-10-30 33138.17          2019-10-25 \n",
       "11 2019-11-01 10:00:00 35091.43    2019-10-30 32926.25          2019-10-25 \n",
       "12 2019-11-01 11:00:00 35416.33    2019-10-30 33122.35          2019-10-25 \n",
       "13 2019-11-01 12:00:00 33184.81    2019-10-30 31518.65          2019-10-25 \n",
       "14 2019-11-01 13:00:00 33549.94    2019-10-30 31895.21          2019-10-25 \n",
       "15 2019-11-01 14:00:00 35732.88    2019-10-30 33050.83          2019-10-25 \n",
       "16 2019-11-01 15:00:00 35859.75    2019-10-30 33464.69          2019-10-25 \n",
       "17 2019-11-01 16:00:00 36268.51    2019-10-30 34612.24          2019-10-25 \n",
       "18 2019-11-01 17:00:00 37011.89    2019-10-30 36082.10          2019-10-25 \n",
       "19 2019-11-01 18:00:00 37199.91    2019-10-30 36936.24          2019-10-25 \n",
       "20 2019-11-01 19:00:00 36056.96    2019-10-30 36219.71          2019-10-25 \n",
       "21 2019-11-01 20:00:00 35130.19    2019-10-30 35136.55          2019-10-25 \n",
       "22 2019-11-01 21:00:00 33947.64    2019-10-30 34155.15          2019-10-25 \n",
       "23 2019-11-01 22:00:00 32877.69    2019-10-30 32878.23          2019-10-25 \n",
       "24 2019-11-01 23:00:00 31590.75    2019-10-30 31456.46          2019-10-25 \n",
       "   lag168_Consumption lm_Prediction lm_Hourly_Prediction\n",
       "1  29563.43           29017.59      28606.61            \n",
       "2  28242.90           27859.58      27394.14            \n",
       "3  27258.74           26984.36      26651.49            \n",
       "4  26739.84           26508.11      26252.26            \n",
       "5  26555.35           26365.49      26180.19            \n",
       "6  26857.36           26681.19      26809.79            \n",
       "7  27783.77           27602.37      27902.77            \n",
       "8  28969.45           28757.40      29005.40            \n",
       "9  32153.21           32055.39      33196.81            \n",
       "10 33615.22           33447.57      34772.11            \n",
       "11 33398.50           33243.03      34626.87            \n",
       "12 33542.88           33395.75      34973.39            \n",
       "13 30839.72           31156.18      32579.05            \n",
       "14 30920.91           31321.87      32839.08            \n",
       "15 33019.99           33034.08      34667.87            \n",
       "16 33476.62           33455.25      35011.60            \n",
       "17 34304.06           34337.60      35930.57            \n",
       "18 35973.89           35864.68      37080.74            \n",
       "19 36302.11           36334.26      37477.64            \n",
       "20 35698.70           35726.87      37499.68            \n",
       "21 34820.93           34831.07      35791.49            \n",
       "22 33659.48           33781.18      34519.51            \n",
       "23 32696.81           32772.06      33517.12            \n",
       "24 30942.64           31204.51      31729.35            \n",
       "   lasso_Hourly_Prediction\n",
       "1  29865.57               \n",
       "2  28302.82               \n",
       "3  27369.35               \n",
       "4  26857.60               \n",
       "5  26934.97               \n",
       "6  27275.20               \n",
       "7  28135.00               \n",
       "8  29784.00               \n",
       "9  33188.37               \n",
       "10 34722.00               \n",
       "11 34784.02               \n",
       "12 34868.09               \n",
       "13 32806.11               \n",
       "14 32611.16               \n",
       "15 34112.43               \n",
       "16 34532.85               \n",
       "17 35344.69               \n",
       "18 36463.44               \n",
       "19 36559.40               \n",
       "20 35774.49               \n",
       "21 35180.28               \n",
       "22 34394.60               \n",
       "23 33469.78               \n",
       "24 31896.05               "
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "test_data"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 45,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "0.0145642978665735"
      ],
      "text/latex": [
       "0.0145642978665735"
      ],
      "text/markdown": [
       "0.0145642978665735"
      ],
      "text/plain": [
       "[1] 0.0145643"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "MAPE_lasso_hourly=sum(abs(test_data$Consumption-test_data$lasso_Hourly_Prediction)/test_data$Consumption)/dim(test_data)[1]\n",
    "MAPE_lasso_hourly"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "**Part F**"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "There are 5 different MAPE values comes from the different methods."
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 46,
   "metadata": {},
   "outputs": [],
   "source": [
    "MAPE_values<-c(MAPE_lag48, MAPE_lag168, MAPE_lm, MAPE_lm_hourly, MAPE_lasso_hourly )"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 47,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/html": [
       "<ol class=list-inline>\n",
       "\t<li>0.0444778419008971</li>\n",
       "\t<li>0.0263293095245023</li>\n",
       "\t<li>0.0279292120545463</li>\n",
       "\t<li>0.0157844740460675</li>\n",
       "\t<li>0.0145642978665735</li>\n",
       "</ol>\n"
      ],
      "text/latex": [
       "\\begin{enumerate*}\n",
       "\\item 0.0444778419008971\n",
       "\\item 0.0263293095245023\n",
       "\\item 0.0279292120545463\n",
       "\\item 0.0157844740460675\n",
       "\\item 0.0145642978665735\n",
       "\\end{enumerate*}\n"
      ],
      "text/markdown": [
       "1. 0.0444778419008971\n",
       "2. 0.0263293095245023\n",
       "3. 0.0279292120545463\n",
       "4. 0.0157844740460675\n",
       "5. 0.0145642978665735\n",
       "\n",
       "\n"
      ],
      "text/plain": [
       "[1] 0.04447784 0.02632931 0.02792921 0.01578447 0.01456430"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "MAPE_values"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 48,
   "metadata": {},
   "outputs": [
    {
     "data": {
      "image/png": "iVBORw0KGgoAAAANSUhEUgAAA0gAAANICAYAAAD958/bAAAEGWlDQ1BrQ0dDb2xvclNwYWNl\nR2VuZXJpY1JHQgAAOI2NVV1oHFUUPrtzZyMkzlNsNIV0qD8NJQ2TVjShtLp/3d02bpZJNtoi\n6GT27s6Yyc44M7v9oU9FUHwx6psUxL+3gCAo9Q/bPrQvlQol2tQgKD60+INQ6Ium65k7M5lp\nurHeZe58853vnnvuuWfvBei5qliWkRQBFpquLRcy4nOHj4g9K5CEh6AXBqFXUR0rXalMAjZP\nC3e1W99Dwntf2dXd/p+tt0YdFSBxH2Kz5qgLiI8B8KdVy3YBevqRHz/qWh72Yui3MUDEL3q4\n4WPXw3M+fo1pZuQs4tOIBVVTaoiXEI/MxfhGDPsxsNZfoE1q66ro5aJim3XdoLFw72H+n23B\naIXzbcOnz5mfPoTvYVz7KzUl5+FRxEuqkp9G/Ajia219thzg25abkRE/BpDc3pqvphHvRFys\n2weqvp+krbWKIX7nhDbzLOItiM8358pTwdirqpPFnMF2xLc1WvLyOwTAibpbmvHHcvttU57y\n5+XqNZrLe3lE/Pq8eUj2fXKfOe3pfOjzhJYtB/yll5SDFcSDiH+hRkH25+L+sdxKEAMZahrl\nSX8ukqMOWy/jXW2m6M9LDBc31B9LFuv6gVKg/0Szi3KAr1kGq1GMjU/aLbnq6/lRxc4XfJ98\nhTargX++DbMJBSiYMIe9Ck1YAxFkKEAG3xbYaKmDDgYyFK0UGYpfoWYXG+fAPPI6tJnNwb7C\nlP7IyF+D+bjOtCpkhz6CFrIa/I6sFtNl8auFXGMTP34sNwI/JhkgEtmDz14ySfaRcTIBInmK\nPE32kxyyE2Tv+thKbEVePDfW/byMM1Kmm0XdObS7oGD/MypMXFPXrCwOtoYjyyn7BV29/MZf\nsVzpLDdRtuIZnbpXzvlf+ev8MvYr/Gqk4H/kV/G3csdazLuyTMPsbFhzd1UabQbjFvDRmcWJ\nxR3zcfHkVw9GfpbJmeev9F08WW8uDkaslwX6avlWGU6NRKz0g/SHtCy9J30o/ca9zX3Kfc19\nzn3BXQKRO8ud477hLnAfc1/G9mrzGlrfexZ5GLdn6ZZrrEohI2wVHhZywjbhUWEy8icMCGNC\nUdiBlq3r+xafL549HQ5jH+an+1y+LlYBifuxAvRN/lVVVOlwlCkdVm9NOL5BE4wkQ2SMlDZU\n97hX86EilU/lUmkQUztTE6mx1EEPh7OmdqBtAvv8HdWpbrJS6tJj3n0CWdM6busNzRV3S9KT\nYhqvNiqWmuroiKgYhshMjmhTh9ptWhsF7970j/SbMrsPE1suR5z7DMC+P/Hs+y7ijrQAlhyA\ngccjbhjPygfeBTjzhNqy28EdkUh8C+DU9+z2v/oyeH791OncxHOs5y2AtTc7nb/f73TWPkD/\nqwBnjX8BoJ98VQNcC+8AAEAASURBVHgB7N0P0GVlfSf4JtqAjdOEthoCDN0lNbNhaiIR0KFg\nFlJJGfJHoJhCZiVVa03VCOI6MqvMxKpodRYK3VhBXR13hAqVgpml2VSBi1lKcOKYkRRQI9EI\nJpN2WBptuukF0/wHg3Zkvz+9b/a+PW8fbnff9773fZ7PU/Xlvveec885z+d5k35/nnOes2aN\nRoAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQLLKPCaZdz2atj05hzkmcnfSZ5N9iYa\nAQIECBAgQIAAAQIEmhR4T3q1NXndPr17U94/kLwylmfy84eS3ovGEGgECBAgQIAAAQIECLQo\n8PvpVBVBR4917qT8XMVQfV5F0vVJFVE7k/rsk4lGgAABAgQIECBAgACB5gSWKpBuSS+rEPoX\n+/R2Xd4vLHvbPsu8JUCAAAECBAgQIECAwKoXWKpAejS9+s/76VldivdXycf2s9zHBAgQIECA\nAAECBAg0LPBTDfdtf11bnwXf2s/C7+fzbcnP7We5jwkQIECAAAECBAgQaFigxwLp6xnPmqRh\n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\nEGhqkobWzyAtDPj2/HDp6E2dNTo6OTKpB8c+m2gECBAgQIAAAQIECBBY00uBND7UdWldRSNA\ngAABAgQIECBAgMAigdYnaVjUWW8IECBAgAABAgQIECAwJKBAGtKxjAABAgQIECBAgACBrgQU\nSF0Nt84SIECAAAECBAgQIDAk0OM9SEMeK72sZgDRCBAgQIAAAQIECKwmgab+hlUgzcev3g9H\nh/H8fByOoyBAgAABAgQIECBwwAI/OOBvzOEXDpvDY+r1kN6Sjq/ttfP6TYAAAQIECBAgsKoF\nqjj6+qrugYMnQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAg\nQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQL/Xzt0\nLAAAAAAwyN96EjsLIQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgwYMCAAQMGDBgw\nYMCAAQMGDBgwYMCAAQMG7oEADI0lN2ECnv4AAAAASUVORK5CYII=",
      "text/plain": [
       "plot without title"
      ]
     },
     "metadata": {},
     "output_type": "display_data"
    }
   ],
   "source": [
    "boxplot(MAPE_values)"
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "As we can see both from the individual MAPE values and from the boxplot, the **smallest MAPE** value comes from the last model in Part D where we have trained penalized regression models with **L1 penalty for each hour**. The **second smallest MAPE** value is obtained from the model in Part C where we have trained the model with **linear regression for each hour**. The biggest MAPE value is observed in the case of naive forecast where we used the consumption values of two days ago. Lag168 naive forecast provided smaller MAPE than lag48 because the consumption habits are more similar in the same day of the week. "
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    "From the boxplot we can also see that the median MAPE value is obtained around 2.7%. The naive forecast with consumption values of two days ago is significantly higher than the rest of the MAPE values."
   ]
  },
  {
   "cell_type": "markdown",
   "metadata": {},
   "source": [
    " Therefore, we can conclude that using the penalized regression model with L1 penalty for each hour gives the best result. It also makes sense to use the linear regression model for each hour."
   ]
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "R",
   "language": "R",
   "name": "ir"
  },
  "language_info": {
   "codemirror_mode": "r",
   "file_extension": ".r",
   "mimetype": "text/x-r-source",
   "name": "R",
   "pygments_lexer": "r",
   "version": "3.6.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 2
}
